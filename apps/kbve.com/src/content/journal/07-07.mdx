---
title: 'July: 07'
category: Daily
date: 2024-07-07 12:00:00
client: Self
unsplash: 1688040831954-3656d0544270
img: https://images.unsplash.com/photo-1688040831954-3656d0544270?crop=entropy&cs=srgb&fm=jpg&ixid=MnwzNjM5Nzd8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODE3NDg2ODY&ixlib=rb-4.0.3&q=85
description: |
  July 7th. More Items!
tags:
  - daily
---


import { Adsense } from '@kbve/astropad';

## Notes

## 2024

**Items**

I adjusted the items a bit today, adding a couple from AndSam's Eve Guild Campaign!
After we add a couple more items for Eves guild, we could open up the bar and let users come into it and buy those potions, maybe we can do a barter system.

I am also trying to avoid dumping a bunch of random pixel art without making sure it has an exact usage and with credits.

**Settings**

The next update should be organizing all of the settings into a single interface, making it easier to call through out the game and any future game.
I believe we should also include another function that will wipe all the save data, just to do a clear restart during each session.

```ts

export interface UserSettings {
  tooltipItemId: string | null;
  tooltipItemPosition: {
    x: number;
    y: number;
  };
  submenuItemId: string | null;
  submenuItemPosition: {
    x: number;
    y: number;
  };
  isStatsMenuCollapsed: boolean;
}

```

Now that I am thinking about it, we could introduce the submenu for the different NPC characters too, upon clicking them and then rendering the actions for them?
This would free up the action menu and make things a bit easier for us to manage.
With that being said, let us go ahead and update the types again but this time something along these lines?

```ts

export interface UserGenericMenu {
  id: string | null;
  position: {
    x: number;
    y: number;
  };
}

export interface UserSettings {
  tooltipItem: UserGenericMenu;
  submenuItem: UserGenericMenu;
  tooltipNPC: UserGenericMenu;
  isStatsMenuCollapsed: boolean;
}

```

Inside of the `localdb.ts`, we went ahead and created the store, like this:

```ts

export const settings = createPersistentAtom<UserSettings>(
  'settings',
  defaultSettings,
);

```

And then added two helper functions, that are setup like this:

```ts

export const getUserSetting = <T extends keyof UserSettings>(key: T): UserSettings[T] => {
  return settings.get()[key];
};

export const setUserSetting = <T extends keyof UserSettings>(key: T, value: UserSettings[T]): void => {
  task(async () => {
    const currentSettings = settings.get();
    settings.set({ ...currentSettings, [key]: value });
  });
};

```

We will be wrapping the set function inside of a task, making it a bit easier in the future to extend out into event and chaining style functions.
One other suggestion was to add a class / factory for it all and then extend it out but I think that might be too much work within this first write.
I will most likely rewrite all of laser again in a couple months, as a trad meme programmer.

**Dice**

Now the next fun begins, which will be to find a way to implement the dice rolling and have it done outside of Phaser.
I am thinking we should do this whole Dice rolling using just React and Three, so that we can utilize this dice rolling in the future and across other applications, like Unity.
After drafting out the dice plans, I was going to originally do a multi-dye , with the option of swapping out different ranges to create that perfect illusion of dice rolling.
Yet for some reason, I felt the need to just use a simple 6 face set of dice, we could adjust the 