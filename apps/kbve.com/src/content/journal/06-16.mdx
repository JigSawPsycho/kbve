---
title: 'June: 16'
category: Daily
date: 2024-06-16 12:00:00
client: Self
unsplash: 1633356122544-f134324a6cee
img: https://images.unsplash.com/photo-1633356122544-f134324a6cee?crop=entropy&cs=srgb&fm=jpg&ixid=MnwzNjM5Nzd8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODE3NDg2ODY&ixlib=rb-4.0.3&q=85
description: |
  June 16th. Vite.
tags:
  - daily
---
import { Adsense } from '@kbve/astropad';

## 2024

**Arena**

Since Shaco keeps getting ban in Arena, I decided to pickup Sej and she is becoming more of my favorite new champ to play.

**GHA**

There seems to be an issue with how the GHA library is building the publishable `NPM` package, but I think I was able to resolve it.
The [bug](https://github.com/nrwl/nx/issues/21855) seems to stem from where it places the published files.
Also during the unit test, the less than 26 characters test fails, but I will get back to3 that once I get this pipeline to publish the workflow.
In order to trigger the build, I will have to do a quick minor bump of the `gha` library!

It seems that the exact issue that we are facing is under `#21758` but that means we will have to migrate our nx to v19.
So in order for us to resolve this vite build bug, we might have to break a bunch of other tooling.

We changed the output to :

```json

        "packageRoot": "dist/packages/{projectName}"
```

However, I believe that was not the issue, so I am going to revert that change to this:

```json
        "packageRoot": "dist/{projectRoot}"
``` 

and then we will go ahead and add the `rollup-plugin-copy` package into the monorep.
This plugin will help us patch the missing package.json? I am not too sure but we will give this a shot.

To trigger another update, I will do a minor bump to the `GHA` library.

We know that there are two or three more errors that we need to resolve, but getting past the NPM issues would be the best move right now.

The error might have been in the way that I am doing the `release` overwrite?
I went ahead and removed them for the time being, maybe it might help resolve some of the issues:

This was my `khashvault` release information:

```json

"projectsRelationship": "independent",
    "version": {
      "preVersionCommand": "pnpm dlx nx run-many -t build"
    }

```

yet, in this case, I will revert to having nothing inside of the brackets and see if that can help.
Hmm, logically this does not make sense but we can give it a shot for now.
I really might just move onto to another project and give this a bit of a break, I learned a decent amount from spending a couple hundred hours within this area but the errors are just a huge pain.

**Apps**

We will probably want to migrate a decent chunk of the apps out of the monorepo.
I will compile a list of applications and make an issue ticket revolving around the ones that we want to consolidate and migrate into just a couple applications.

**Nx v19**

It looks like there were way too many errors when migrating over to nx v19.
The additional community plugins that were added into this monorepo are causing some additional errors with v19, a decent amount of the functions are broken too.

During the migration, we had two plugins give some rough errors, that is our rust plugin, which is still extremely outdated and the astro plugin but that has a fix in the pipeline.