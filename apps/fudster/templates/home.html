<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>WebSocket Chat with KBVECommand</title>

		<!-- Tailwind CSS and Plugins -->
		<script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp,container-queries"></script>
		<script>
			tailwind.config = {
				theme: {
					extend: {
						colors: {
							primary: '#3490dc',
							secondary: '#ffed4a',
							clifford: '#da373d',
							dark: '#2d3748',
						},
					},
				},
			};
		</script>

		<!-- Preline Plugin -->
		<!-- Preline Plugin -->
<script type="module">
	import prelineoverlay from 'https://cdn.jsdelivr.net/npm/@preline/overlay@2.5.0/+esm';
	import preline from 'https://cdn.jsdelivr.net/npm/preline@2.5.1/+esm';

	document.addEventListener('DOMContentLoaded', () => {
		// Initialize Preline
		if (window.HSStaticMethods) {
			window.HSStaticMethods.autoInit();

			// Create a new HSOverlay instance for the modal
			const modalElement = document.querySelector('#services-modal');
			const modal = new HSOverlay(modalElement);

			// Open and close buttons for the modal
			const openBtn = document.querySelector('[data-hs-overlay="#services-modal"]');
			const closeBtns = document.querySelectorAll('#services-modal [data-hs-overlay="#services-modal"]');

			// Open the modal when the open button is clicked
			if (openBtn) {
				openBtn.addEventListener('click', (event) => {
					event.preventDefault();
					modal.open();
				});
			}

			// Close the modal when any close button inside it is clicked
			closeBtns.forEach((closeBtn) => {
				closeBtn.addEventListener('click', (event) => {
					event.preventDefault();
					modal.close();
				});
			});
		} else {
			console.error("Preline plugin couldn't initialize. Check the imports.");
		}
	});
</script>

	</head>
	<body class="bg-gray-100">
		<!-- Navbar -->
		<nav class="bg-dark text-white p-4">
			<div class="container mx-auto flex justify-between items-center">
				<a href="#" class="text-2xl font-bold">FUDSTER</a>
				<div>
					<a
						href="#"
						class="ml-4 text-lg hover:underline"
						data-hs-overlay="#about-modal">
						About
					</a>
					<a
						href="#"
						class="ml-4 text-lg hover:underline"
						data-hs-overlay="#services-modal">
						Services
					</a>
					<a
						href="#"
						class="ml-4 text-lg hover:underline"
						data-hs-overlay="#contact-modal">
						Contact
					</a>
				</div>
			</div>
		</nav>

		<!-- Modals -->
		<!-- About Modal -->
		<div
			id="about-modal"
			class="hs-overlay hs-overlay-open:opacity-100 hs-overlay-open:duration-500 hidden size-full fixed top-0 start-0 z-[80] opacity-0 overflow-x-hidden transition-all overflow-y-auto pointer-events-none"
			role="dialog"
			tabindex="-1"
			aria-labelledby="about-modal-label">
			<div class="sm:max-w-lg sm:w-full m-3 sm:mx-auto">
				<div
					class="flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto">
					<div
						class="flex justify-between items-center py-3 px-4 border-b">
						<h3
							id="about-modal-label"
							class="font-bold text-gray-800">
							About Us
						</h3>
						<button
							type="button"
							class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border bg-gray-100 text-gray-800 hover:bg-gray-200"
							aria-label="Close"
							data-hs-overlay="#about-modal">
							<span class="sr-only">Close</span>
							<svg
								class="shrink-0 size-4"
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round">
								<path d="M18 6 6 18"></path>
								<path d="m6 6 12 12"></path>
							</svg>
						</button>
					</div>
					<div class="p-4">
						<p class="text-gray-800">
							We are a team of dedicated professionals providing
							top-tier services to help you achieve your goals.
						</p>
					</div>
				</div>
			</div>
		</div>

		<!-- Services Modal -->
		<div
			id="services-modal"
			class="hs-overlay hs-overlay-open:opacity-100 hs-overlay-open:duration-500 hidden size-full fixed top-0 start-0 z-[80] opacity-0 overflow-x-hidden transition-all overflow-y-auto pointer-events-none"
			role="dialog"
			tabindex="-1"
			aria-labelledby="services-modal-label">
			<div class="sm:max-w-lg sm:w-full m-3 sm:mx-auto">
				<div
					class="flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto dark:bg-neutral-800 dark:border-neutral-700 dark:shadow-neutral-700/70">
					<div
						class="flex justify-between items-center py-3 px-4 border-b dark:border-neutral-700">
						<h3
							id="services-modal-label"
							class="font-bold text-gray-800 dark:text-white">
							Our Services
						</h3>
						<!-- Close button inside the modal -->
						<button
							type="button"
							class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-200"
							aria-label="Close"
							data-hs-overlay="#services-modal">
							<span class="sr-only">Close</span>
							<svg
								class="shrink-0 size-4"
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round">
								<path d="M18 6 6 18"></path>
								<path d="m6 6 12 12"></path>
							</svg>
						</button>
					</div>
					<div class="p-4 overflow-y-auto">
						<p class="text-gray-800 dark:text-neutral-400">
							We offer a wide range of services, including
							consulting, development, and support, to cater to
							your business needs.
						</p>
					</div>
					<div
						class="flex justify-end items-center gap-x-2 py-3 px-4 border-t dark:border-neutral-700">
						<button
							type="button"
							class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
							data-hs-overlay="#services-modal">
							Close
						</button>
						<button
							type="button"
							class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700">
							Save changes
						</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Contact Modal -->
		<div
			id="contact-modal"
			class="hs-overlay hs-overlay-open:opacity-100 hs-overlay-open:duration-500 hidden size-full fixed top-0 start-0 z-[80] opacity-0 overflow-x-hidden transition-all overflow-y-auto pointer-events-none"
			role="dialog"
			tabindex="-1"
			aria-labelledby="contact-modal-label">
			<div class="sm:max-w-lg sm:w-full m-3 sm:mx-auto">
				<div
					class="flex flex-col bg-white border shadow-sm rounded-xl pointer-events-auto">
					<div
						class="flex justify-between items-center py-3 px-4 border-b">
						<h3
							id="contact-modal-label"
							class="font-bold text-gray-800">
							Contact Us
						</h3>
						<button
							type="button"
							class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border bg-gray-100 text-gray-800 hover:bg-gray-200"
							aria-label="Close"
							data-hs-overlay="#contact-modal">
							<span class="sr-only">Close</span>
							<svg
								class="shrink-0 size-4"
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round">
								<path d="M18 6 6 18"></path>
								<path d="m6 6 12 12"></path>
							</svg>
						</button>
					</div>
					<div class="p-4">
						<p class="text-gray-800">
							Feel free to reach out to us with any questions or
							inquiries. We're here to help!
						</p>
					</div>
				</div>
			</div>
		</div>

		<!-- Buttons -->
		<section class="bg-gray-200 text-black p-6 rounded-lg mb-6">
			<h2 class="text-3xl font-bold mb-4">Runelite Control</h2>
			<div class="flex justify-center space-x-4">
				<button
					class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400"
					onclick="startRunelite()">
					Start Runelite
				</button>
				<button
					class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400"
					onclick="stopRunelite()">
					Stop Runelite
				</button>
			</div>
			<div
				id="statusMessage"
				class="mt-4 text-center text-gray-700"></div>
		</section>

		<script>
			function startRunelite() {
				fetch('http://localhost:8086/start-runelite', {
					method: 'GET',
				})
					.then((response) => {
						if (response.ok) {
							updateStatusMessage(
								'Runelite started successfully',
								'text-green-500',
							);
						} else {
							updateStatusMessage(
								'Failed to start Runelite',
								'text-red-500',
							);
						}
					})
					.catch((error) => {
						console.error('Error:', error);
						updateStatusMessage(
							'An error occurred while starting Runelite',
							'text-red-500',
						);
					});
			}

			function stopRunelite() {
				fetch('http://localhost:8086/stop-runelite', {
					method: 'GET',
				})
					.then((response) => {
						if (response.ok) {
							updateStatusMessage(
								'Runelite stopped successfully',
								'text-green-500',
							);
						} else {
							updateStatusMessage(
								'Failed to stop Runelite',
								'text-red-500',
							);
						}
					})
					.catch((error) => {
						console.error('Error:', error);
						updateStatusMessage(
							'An error occurred while stopping Runelite',
							'text-red-500',
						);
					});
			}

			function updateStatusMessage(message, colorClass) {
				const statusDiv = document.getElementById('statusMessage');
				statusDiv.textContent = message;
				statusDiv.className = 'mt-4 text-center ' + colorClass;
			}
		</script>
		<!-- Hero Section with WebSocket Chat -->

		<section class="bg-clifford text-white h-screen flex items-center">
			<div class="container mx-auto text-center px-6">
				<h1 class="text-6xl font-bold mb-6">WebSocket Chat</h1>
				<form action="" onsubmit="sendMessage(event)" class="mb-6">
					<input
						type="text"
						id="messageText"
						placeholder="Type your message..."
						autocomplete="off"
						class="px-4 py-2 rounded-lg text-black w-2/3" />
					<button
						type="submit"
						class="bg-white text-clifford py-2 px-4 rounded-lg font-semibold hover:bg-gray-200 transition">
						Send
					</button>
				</form>
				<ul
					id="messages"
					class="text-left text-black bg-white rounded-lg p-4 max-h-96 overflow-y-scroll w-2/3 mx-auto"></ul>

				<!-- Form to send KBVECommand JSON -->
				<h2 class="text-3xl font-bold mt-8 mb-4">Send a KBVECommand</h2>
				<form action="" onsubmit="sendCommand(event)" class="mb-6">
					<textarea
						id="commandText"
						placeholder="Enter KBVECommand JSON..."
						class="px-4 py-2 rounded-lg text-black w-2/3 h-32"></textarea>
					<button
						type="submit"
						class="bg-white text-clifford py-2 px-4 rounded-lg font-semibold hover:bg-gray-200 transition">
						Send Command
					</button>
				</form>
			</div>
		</section>

		<!-- About Section -->
		<section id="about" class="py-16 bg-gray-50">
			<div class="container mx-auto text-center">
				<h2 class="text-4xl font-bold mb-4">About Us</h2>
				<p class="text-lg text-gray-700 max-w-2xl mx-auto">
					We are a dedicated team of professionals committed to
					providing high-quality services to help you reach your
					goals.
				</p>
			</div>
		</section>

		<!-- Services Section -->
		<section id="services" class="py-16 bg-white">
			<div class="container mx-auto">
				<h2 class="text-4xl font-bold text-center mb-12">
					Our Services
				</h2>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
					<!-- Service 1 -->
					<div class="bg-gray-100 p-6 rounded-lg text-center">
						<h3 class="text-2xl font-bold mb-4">Service One</h3>
						<p class="text-gray-700 mb-6">
							We offer great solutions tailored to your needs.
						</p>
						<a
							href="#"
							class="bg-clifford text-white py-2 px-4 rounded-full">
							Learn More
						</a>
					</div>
					<!-- Service 2 -->
					<div class="bg-gray-100 p-6 rounded-lg text-center">
						<h3 class="text-2xl font-bold mb-4">Service Two</h3>
						<p class="text-gray-700 mb-6">
							Get professional support and guidance.
						</p>
						<a
							href="#"
							class="bg-clifford text-white py-2 px-4 rounded-full">
							Learn More
						</a>
					</div>
					<!-- Service 3 -->
					<div class="bg-gray-100 p-6 rounded-lg text-center">
						<h3 class="text-2xl font-bold mb-4">Service Three</h3>
						<p class="text-gray-700 mb-6">
							Achieve your goals with our expert services.
						</p>
						<a
							href="#"
							class="bg-clifford text-white py-2 px-4 rounded-full">
							Learn More
						</a>
					</div>
				</div>
			</div>
		</section>

		<!-- Contact Section -->
		<section id="contact" class="py-16 bg-gray-50">
			<div class="container mx-auto text-center">
				<h2 class="text-4xl font-bold mb-8">Get In Touch</h2>
				<form class="max-w-lg mx-auto">
					<div class="mb-4">
						<input
							type="text"
							placeholder="Your Name"
							class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-clifford" />
					</div>
					<div class="mb-4">
						<input
							type="email"
							placeholder="Your Email"
							class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-clifford" />
					</div>
					<div class="mb-4">
						<textarea
							placeholder="Your Message"
							class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-clifford"></textarea>
					</div>
					<button
						type="submit"
						class="bg-clifford text-white py-2 px-6 rounded-full hover:bg-red-600 transition">
						Send Message
					</button>
				</form>
			</div>
		</section>

		<!-- Footer -->
		<footer class="bg-dark text-white py-4">
			<div class="container mx-auto text-center">
				<p>&copy; 2024 Supatots. All rights reserved.</p>
			</div>
		</footer>

		<!-- WebSocket JavaScript -->
		<script>
			var ws = new WebSocket('ws://localhost:8086');

			ws.onopen = function () {
				console.log('WebSocket connection established.');
			};

			ws.onclose = function () {
				console.log('WebSocket connection closed.');
			};

			ws.onerror = function (error) {
				console.log('WebSocket error:', error);
			};

			ws.onmessage = function (event) {
				var messages = document.getElementById('messages');
				var message = document.createElement('li');

				try {
					var data = JSON.parse(event.data);
					var content = document.createTextNode(
						data.content || event.data,
					);
				} catch (e) {
					var content = document.createTextNode(event.data);
				}

				message.appendChild(content);
				messages.appendChild(message);
			};

			function sendMessage(event) {
				if (ws.readyState === WebSocket.OPEN) {
					var input = document.getElementById('messageText');
					var message = {
						channel: 'default',
						content: input.value,
					};
					ws.send(JSON.stringify(message));
					input.value = '';
				} else {
					console.error(
						'WebSocket is not open. Cannot send message.',
					);
				}
				event.preventDefault();
			}

			function sendCommand(event) {
				if (ws.readyState === WebSocket.OPEN) {
					var input = document.getElementById('commandText');
					try {
						var command = JSON.parse(input.value);
						ws.send(JSON.stringify(command));
						input.value = '';
						console.log('Command sent:', command);
					} catch (e) {
						console.error('Invalid JSON format for KBVECommand.');
					}
				} else {
					console.error(
						'WebSocket is not open. Cannot send command.',
					);
				}
				event.preventDefault();
			}
		</script>
	</body>
</html>
