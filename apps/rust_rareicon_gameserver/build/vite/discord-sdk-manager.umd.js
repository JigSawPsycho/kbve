(function(Pe,Vt){typeof exports=="object"&&typeof module<"u"?Vt(exports):typeof define=="function"&&define.amd?define(["exports"],Vt):(Pe=typeof globalThis<"u"?globalThis:Pe||self,Vt(Pe.DiscordSDKManager={}))})(this,function(Pe){"use strict";function Vt(t){try{return JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n)}catch(e){throw new Error(`Failed to stringify object with BigInt values: ${e instanceof Error?e.message:e}`)}}function ai(t){try{return JSON.parse(t)}catch(e){throw new Error(`Failed to parse JSON: ${e instanceof Error?e.message:e}`)}}function oi(t){try{return JSON.stringify(t)}catch(e){throw new Error(`Failed to stringify JSON: ${e instanceof Error?e.message:e}`)}}function li(t){try{return new TextDecoder("utf-8").decode(t)}catch{throw new Error("Unable to decode UTF-8 array to string.")}}function ui(t){try{return new TextEncoder().encode(t)}catch{throw new Error("Unable to encode string to UTF-8 array.")}}function ci(t="nested"){try{const e=document.getElementById(t);if(e)return e;console.warn(`No iframe with id '${t}' found. Falling back to the first iframe.`);const n=document.getElementsByTagName("iframe")[0];if(!n)throw new Error("No iframes found in the document.");return n}catch(e){throw console.error("Error retrieving iframe:",e),e}}class Ht{constructor(){}static getInstance(){return Ht.instance||(Ht.instance=new Ht),Ht.instance}safeCall(e){try{return{data:e()}}catch(n){return{error:this.wrapError(n)}}}wrapError(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"An unknown error occurred")}stringifyBigInt(e){return this.safeCall(()=>Vt(e))}safeParse(e){return this.safeCall(()=>ai(e))}safeStringify(e){return this.safeCall(()=>oi(e))}utf8ToString(e){return this.safeCall(()=>li(e))}stringToUtf8(e){return this.safeCall(()=>ui(e))}getNestedIFrame(e="nested"){return this.safeCall(()=>ci(e))}sanitizeFields(e,n){var r;if(!e)return e;for(const{field:i,key:s}of n)((r=e[i])==null?void 0:r[s])===""&&delete e[i];return e}}const di=Ht.getInstance();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wr={exports:{}},hi;function Ns(){return hi||(hi=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(g,f,d){this.fn=g,this.context=f,this.once=d||!1}function s(g,f,d,m,A){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,m||g,A),X=n?n+f:f;return g._events[X]?g._events[X].fn?g._events[X]=[g._events[X],x]:g._events[X].push(x):(g._events[X]=x,g._eventsCount++),g}function u(g,f){--g._eventsCount===0?g._events=new r:delete g._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],d,m;if(this._eventsCount===0)return f;for(m in d=this._events)e.call(d,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},c.prototype.listeners=function(f){var d=n?n+f:f,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var A=0,x=m.length,X=new Array(x);A<x;A++)X[A]=m[A].fn;return X},c.prototype.listenerCount=function(f){var d=n?n+f:f,m=this._events[d];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,d,m,A,x,X){var V=n?n+f:f;if(!this._events[V])return!1;var D=this._events[V],he=arguments.length,re,se;if(D.fn){switch(D.once&&this.removeListener(f,D.fn,void 0,!0),he){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,d),!0;case 3:return D.fn.call(D.context,d,m),!0;case 4:return D.fn.call(D.context,d,m,A),!0;case 5:return D.fn.call(D.context,d,m,A,x),!0;case 6:return D.fn.call(D.context,d,m,A,x,X),!0}for(se=1,re=new Array(he-1);se<he;se++)re[se-1]=arguments[se];D.fn.apply(D.context,re)}else{var Se=D.length,me;for(se=0;se<Se;se++)switch(D[se].once&&this.removeListener(f,D[se].fn,void 0,!0),he){case 1:D[se].fn.call(D[se].context);break;case 2:D[se].fn.call(D[se].context,d);break;case 3:D[se].fn.call(D[se].context,d,m);break;case 4:D[se].fn.call(D[se].context,d,m,A);break;default:if(!re)for(me=1,re=new Array(he-1);me<he;me++)re[me-1]=arguments[me];D[se].fn.apply(D[se].context,re)}}return!0},c.prototype.on=function(f,d,m){return s(this,f,d,m,!1)},c.prototype.once=function(f,d,m){return s(this,f,d,m,!0)},c.prototype.removeListener=function(f,d,m,A){var x=n?n+f:f;if(!this._events[x])return this;if(!d)return u(this,x),this;var X=this._events[x];if(X.fn)X.fn===d&&(!A||X.once)&&(!m||X.context===m)&&u(this,x);else{for(var V=0,D=[],he=X.length;V<he;V++)(X[V].fn!==d||A&&!X[V].once||m&&X[V].context!==m)&&D.push(X[V]);D.length?this._events[x]=D.length===1?D[0]:D:u(this,x)}return this},c.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(wr)),wr.exports}var Ss=Ns(),Os=fi(Ss),ee;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const u of i)s[u]=u;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),u={};for(const c of s)u[c]=i[c];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&s.push(u);return s},t.find=(i,s)=>{for(const u of i)if(s(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ee||(ee={}));var Ar;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ar||(Ar={}));const k=ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_t=t=>{switch(typeof t){case"undefined":return k.undefined;case"string":return k.string;case"number":return isNaN(t)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(t)?k.array:t===null?k.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?k.promise:typeof Map<"u"&&t instanceof Map?k.map:typeof Set<"u"&&t instanceof Set?k.set:typeof Date<"u"&&t instanceof Date?k.date:k.object;default:return k.unknown}},S=ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Rs=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Le extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const u of s.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let c=r,g=0;for(;g<u.path.length;){const f=u.path[g];g===u.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(u))):c[f]=c[f]||{_errors:[]},c=c[f],g++}}};return i(this),r}static assert(e){if(!(e instanceof Le))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Le.create=t=>new Le(t);const Ft=(t,e)=>{let n;switch(t.code){case S.invalid_type:t.received===k.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case S.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ee.jsonStringifyReplacer)}`;break;case S.unrecognized_keys:n=`Unrecognized key(s) in object: ${ee.joinValues(t.keys,", ")}`;break;case S.invalid_union:n="Invalid input";break;case S.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ee.joinValues(t.options)}`;break;case S.invalid_enum_value:n=`Invalid enum value. Expected ${ee.joinValues(t.options)}, received '${t.received}'`;break;case S.invalid_arguments:n="Invalid function arguments";break;case S.invalid_return_type:n="Invalid function return type";break;case S.invalid_date:n="Invalid date";break;case S.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ee.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case S.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case S.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case S.custom:n="Invalid input";break;case S.invalid_intersection_types:n="Intersection results could not be merged";break;case S.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case S.not_finite:n="Number must be finite";break;default:n=e.defaultError,ee.assertNever(t)}return{message:n}};let pi=Ft;function Ds(t){pi=t}function Un(){return pi}const Bn=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],u={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const g=r.filter(f=>!!f).slice().reverse();for(const f of g)c=f(u,{data:e,defaultError:c}).message;return{...i,path:s,message:c}},Ms=[];function M(t,e){const n=Un(),r=Bn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ft?void 0:Ft].filter(i=>!!i)});t.common.issues.push(r)}class Te{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return C;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,u=await i.value;r.push({key:s,value:u})}return Te.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:u}=i;if(s.status==="aborted"||u.status==="aborted")return C;s.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(r[s.value]=u.value)}return{status:e.value,value:r}}}const C=Object.freeze({status:"aborted"}),jt=t=>({status:"dirty",value:t}),Ne=t=>({status:"valid",value:t}),br=t=>t.status==="aborted",Ir=t=>t.status==="dirty",on=t=>t.status==="valid",ln=t=>typeof Promise<"u"&&t instanceof Promise;function Gn(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function gi(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}typeof SuppressedError=="function"&&SuppressedError;var B;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));var un,cn;class We{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mi=(t,e)=>{if(on(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Le(t.common.issues);return this._error=n,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,c)=>{var g,f;const{message:d}=t;return u.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(g=d??r)!==null&&g!==void 0?g:c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:(f=d??n)!==null&&f!==void 0?f:c.defaultError}},description:i}}class W{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return _t(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:_t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Te,ctx:{common:e.parent.common,data:e.data,parsedType:_t(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ln(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_t(e)},s=this._parseSync({data:e,path:i.path,parent:i});return mi(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:_t(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ln(i)?i:Promise.resolve(i));return mi(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const u=e(i),c=()=>s.addIssue({code:S.custom,...r(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(g=>g?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new qe({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qe.create(this,this._def)}nullable(){return Tt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ce.create(this,this._def)}promise(){return $t.create(this,this._def)}or(e){return pn.create([this,e],this._def)}and(e){return gn.create(this,e,this._def)}transform(e){return new qe({...Y(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new yn({...Y(this._def),innerType:this,defaultValue:n,typeName:j.ZodDefault})}brand(){return new Or({typeName:j.ZodBranded,type:this,...Y(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Tn({...Y(this._def),innerType:this,catchValue:n,typeName:j.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return wn.create(this,e)}readonly(){return An.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ks=/^c[^\s-]{8,}$/i,xs=/^[0-9a-z]+$/,Ps=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ls=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Us=/^[a-z0-9_-]{21}$/i,Bs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Gs=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Zs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nr;const Vs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hs=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Fs=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_i="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",js=new RegExp(`^${_i}$`);function vi(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ks(t){return new RegExp(`^${vi(t)}$`)}function Ei(t){let e=`${_i}T${vi(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Cs(t,e){return!!((e==="v4"||!e)&&Vs.test(t)||(e==="v6"||!e)&&Hs.test(t))}class Ke extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){const s=this._getOrReturnCtx(e);return M(s,{code:S.invalid_type,expected:k.string,received:s.parsedType}),C}const r=new Te;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:S.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:S.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const u=e.data.length>s.value,c=e.data.length<s.value;(u||c)&&(i=this._getOrReturnCtx(e,i),u?M(i,{code:S.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&M(i,{code:S.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Gs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"email",code:S.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Nr||(Nr=new RegExp(Zs,"u")),Nr.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"emoji",code:S.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Ls.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"uuid",code:S.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Us.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"nanoid",code:S.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ks.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid",code:S.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")xs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid2",code:S.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Ps.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ulid",code:S.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),M(i,{validation:"url",code:S.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"regex",code:S.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),M(i,{code:S.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:S.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:S.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Ei(s).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:S.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?js.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:S.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Ks(s).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:S.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Bs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"duration",code:S.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Cs(e.data,s.version)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ip",code:S.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Fs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"base64",code:S.invalid_string,message:s.message}),r.dirty()):ee.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:S.invalid_string,...B.errToObj(r)})}_addCheck(e){return new Ke({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...B.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...B.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...B.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...B.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...B.errToObj(n)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ke.create=t=>{var e;return new Ke({checks:[],typeName:j.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};function qs(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),u=parseInt(e.toFixed(i).replace(".",""));return s%u/Math.pow(10,i)}class vt extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){const s=this._getOrReturnCtx(e);return M(s,{code:S.invalid_type,expected:k.number,received:s.parsedType}),C}let r;const i=new Te;for(const s of this._def.checks)s.kind==="int"?ee.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),M(r,{code:S.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:S.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:S.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?qs(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),M(r,{code:S.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),M(r,{code:S.not_finite,message:s.message}),i.dirty()):ee.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,B.toString(n))}gt(e,n){return this.setLimit("min",e,!1,B.toString(n))}lte(e,n){return this.setLimit("max",e,!0,B.toString(n))}lt(e,n){return this.setLimit("max",e,!1,B.toString(n))}setLimit(e,n,r,i){return new vt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:B.toString(i)}]})}_addCheck(e){return new vt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ee.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}vt.create=t=>new vt({checks:[],typeName:j.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class Et extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==k.bigint){const s=this._getOrReturnCtx(e);return M(s,{code:S.invalid_type,expected:k.bigint,received:s.parsedType}),C}let r;const i=new Te;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:S.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:S.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),M(r,{code:S.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ee.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,B.toString(n))}gt(e,n){return this.setLimit("min",e,!1,B.toString(n))}lte(e,n){return this.setLimit("max",e,!0,B.toString(n))}lt(e,n){return this.setLimit("max",e,!1,B.toString(n))}setLimit(e,n,r,i){return new Et({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:B.toString(i)}]})}_addCheck(e){return new Et({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Et.create=t=>{var e;return new Et({checks:[],typeName:j.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};class dn extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==k.boolean){const r=this._getOrReturnCtx(e);return M(r,{code:S.invalid_type,expected:k.boolean,received:r.parsedType}),C}return Ne(e.data)}}dn.create=t=>new dn({typeName:j.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class Ot extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){const s=this._getOrReturnCtx(e);return M(s,{code:S.invalid_type,expected:k.date,received:s.parsedType}),C}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return M(s,{code:S.invalid_date}),C}const r=new Te;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:S.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:S.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ee.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ot({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ot.create=t=>new Ot({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:j.ZodDate,...Y(t)});class Zn extends W{_parse(e){if(this._getType(e)!==k.symbol){const r=this._getOrReturnCtx(e);return M(r,{code:S.invalid_type,expected:k.symbol,received:r.parsedType}),C}return Ne(e.data)}}Zn.create=t=>new Zn({typeName:j.ZodSymbol,...Y(t)});class fn extends W{_parse(e){if(this._getType(e)!==k.undefined){const r=this._getOrReturnCtx(e);return M(r,{code:S.invalid_type,expected:k.undefined,received:r.parsedType}),C}return Ne(e.data)}}fn.create=t=>new fn({typeName:j.ZodUndefined,...Y(t)});class hn extends W{_parse(e){if(this._getType(e)!==k.null){const r=this._getOrReturnCtx(e);return M(r,{code:S.invalid_type,expected:k.null,received:r.parsedType}),C}return Ne(e.data)}}hn.create=t=>new hn({typeName:j.ZodNull,...Y(t)});class Kt extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return Ne(e.data)}}Kt.create=t=>new Kt({typeName:j.ZodAny,...Y(t)});class Rt extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ne(e.data)}}Rt.create=t=>new Rt({typeName:j.ZodUnknown,...Y(t)});class rt extends W{_parse(e){const n=this._getOrReturnCtx(e);return M(n,{code:S.invalid_type,expected:k.never,received:n.parsedType}),C}}rt.create=t=>new rt({typeName:j.ZodNever,...Y(t)});class Vn extends W{_parse(e){if(this._getType(e)!==k.undefined){const r=this._getOrReturnCtx(e);return M(r,{code:S.invalid_type,expected:k.void,received:r.parsedType}),C}return Ne(e.data)}}Vn.create=t=>new Vn({typeName:j.ZodVoid,...Y(t)});class Ce extends W{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==k.array)return M(n,{code:S.invalid_type,expected:k.array,received:n.parsedType}),C;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(u||c)&&(M(n,{code:u?S.too_big:S.too_small,minimum:c?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(M(n,{code:S.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(M(n,{code:S.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,c)=>i.type._parseAsync(new We(n,u,n.path,c)))).then(u=>Te.mergeArray(r,u));const s=[...n.data].map((u,c)=>i.type._parseSync(new We(n,u,n.path,c)));return Te.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Ce({...this._def,minLength:{value:e,message:B.toString(n)}})}max(e,n){return new Ce({...this._def,maxLength:{value:e,message:B.toString(n)}})}length(e,n){return new Ce({...this._def,exactLength:{value:e,message:B.toString(n)}})}nonempty(e){return this.min(1,e)}}Ce.create=(t,e)=>new Ce({type:t,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...Y(e)});function Ct(t){if(t instanceof de){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Qe.create(Ct(r))}return new de({...t._def,shape:()=>e})}else return t instanceof Ce?new Ce({...t._def,type:Ct(t.element)}):t instanceof Qe?Qe.create(Ct(t.unwrap())):t instanceof Tt?Tt.create(Ct(t.unwrap())):t instanceof Xe?Xe.create(t.items.map(e=>Ct(e))):t}class de extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ee.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==k.object){const f=this._getOrReturnCtx(e);return M(f,{code:S.invalid_type,expected:k.object,received:f.parsedType}),C}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof rt&&this._def.unknownKeys==="strip"))for(const f in i.data)u.includes(f)||c.push(f);const g=[];for(const f of u){const d=s[f],m=i.data[f];g.push({key:{status:"valid",value:f},value:d._parse(new We(i,m,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof rt){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of c)g.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(f==="strict")c.length>0&&(M(i,{code:S.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of c){const m=i.data[d];g.push({key:{status:"valid",value:d},value:f._parse(new We(i,m,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of g){const m=await d.key,A=await d.value;f.push({key:m,value:A,alwaysSet:d.alwaysSet})}return f}).then(f=>Te.mergeObjectSync(r,f)):Te.mergeObjectSync(r,g)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new de({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,u,c;const g=(u=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&u!==void 0?u:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=B.errToObj(e).message)!==null&&c!==void 0?c:g}:{message:g}}}:{}})}strip(){return new de({...this._def,unknownKeys:"strip"})}passthrough(){return new de({...this._def,unknownKeys:"passthrough"})}extend(e){return new de({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new de({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:j.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new de({...this._def,catchall:e})}pick(e){const n={};return ee.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new de({...this._def,shape:()=>n})}omit(e){const n={};return ee.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new de({...this._def,shape:()=>n})}deepPartial(){return Ct(this)}partial(e){const n={};return ee.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new de({...this._def,shape:()=>n})}required(e){const n={};return ee.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Qe;)s=s._def.innerType;n[r]=s}}),new de({...this._def,shape:()=>n})}keyof(){return yi(ee.objectKeys(this.shape))}}de.create=(t,e)=>new de({shape:()=>t,unknownKeys:"strip",catchall:rt.create(),typeName:j.ZodObject,...Y(e)}),de.strictCreate=(t,e)=>new de({shape:()=>t,unknownKeys:"strict",catchall:rt.create(),typeName:j.ZodObject,...Y(e)}),de.lazycreate=(t,e)=>new de({shape:t,unknownKeys:"strip",catchall:rt.create(),typeName:j.ZodObject,...Y(e)});class pn extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const u=s.map(c=>new Le(c.ctx.common.issues));return M(n,{code:S.invalid_union,unionErrors:u}),C}if(n.common.async)return Promise.all(r.map(async s=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let s;const u=[];for(const g of r){const f={...n,common:{...n.common,issues:[]},parent:null},d=g._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=u.map(g=>new Le(g));return M(n,{code:S.invalid_union,unionErrors:c}),C}}get options(){return this._def.options}}pn.create=(t,e)=>new pn({options:t,typeName:j.ZodUnion,...Y(e)});const it=t=>t instanceof _n?it(t.schema):t instanceof qe?it(t.innerType()):t instanceof vn?[t.value]:t instanceof yt?t.options:t instanceof En?ee.objectValues(t.enum):t instanceof yn?it(t._def.innerType):t instanceof fn?[void 0]:t instanceof hn?[null]:t instanceof Qe?[void 0,...it(t.unwrap())]:t instanceof Tt?[null,...it(t.unwrap())]:t instanceof Or||t instanceof An?it(t.unwrap()):t instanceof Tn?it(t._def.innerType):[];class Hn extends W{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.object)return M(n,{code:S.invalid_type,expected:k.object,received:n.parsedType}),C;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(M(n,{code:S.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const u=it(s.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of u){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,s)}}return new Hn({typeName:j.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Y(r)})}}function Sr(t,e){const n=_t(t),r=_t(e);if(t===e)return{valid:!0,data:t};if(n===k.object&&r===k.object){const i=ee.objectKeys(e),s=ee.objectKeys(t).filter(c=>i.indexOf(c)!==-1),u={...t,...e};for(const c of s){const g=Sr(t[c],e[c]);if(!g.valid)return{valid:!1};u[c]=g.data}return{valid:!0,data:u}}else if(n===k.array&&r===k.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const u=t[s],c=e[s],g=Sr(u,c);if(!g.valid)return{valid:!1};i.push(g.data)}return{valid:!0,data:i}}else return n===k.date&&r===k.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gn extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,u)=>{if(br(s)||br(u))return C;const c=Sr(s.value,u.value);return c.valid?((Ir(s)||Ir(u))&&n.dirty(),{status:n.value,value:c.data}):(M(r,{code:S.invalid_intersection_types}),C)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,u])=>i(s,u)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gn.create=(t,e,n)=>new gn({left:t,right:e,typeName:j.ZodIntersection,...Y(n)});class Xe extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.array)return M(r,{code:S.invalid_type,expected:k.array,received:r.parsedType}),C;if(r.data.length<this._def.items.length)return M(r,{code:S.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&r.data.length>this._def.items.length&&(M(r,{code:S.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((u,c)=>{const g=this._def.items[c]||this._def.rest;return g?g._parse(new We(r,u,r.path,c)):null}).filter(u=>!!u);return r.common.async?Promise.all(s).then(u=>Te.mergeArray(n,u)):Te.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Xe({...this._def,rest:e})}}Xe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xe({items:t,typeName:j.ZodTuple,rest:null,...Y(e)})};class mn extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.object)return M(r,{code:S.invalid_type,expected:k.object,received:r.parsedType}),C;const i=[],s=this._def.keyType,u=this._def.valueType;for(const c in r.data)i.push({key:s._parse(new We(r,c,r.path,c)),value:u._parse(new We(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Te.mergeObjectAsync(n,i):Te.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof W?new mn({keyType:e,valueType:n,typeName:j.ZodRecord,...Y(r)}):new mn({keyType:Ke.create(),valueType:e,typeName:j.ZodRecord,...Y(n)})}}class Fn extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.map)return M(r,{code:S.invalid_type,expected:k.map,received:r.parsedType}),C;const i=this._def.keyType,s=this._def.valueType,u=[...r.data.entries()].map(([c,g],f)=>({key:i._parse(new We(r,c,r.path,[f,"key"])),value:s._parse(new We(r,g,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const g of u){const f=await g.key,d=await g.value;if(f.status==="aborted"||d.status==="aborted")return C;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(f.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const g of u){const f=g.key,d=g.value;if(f.status==="aborted"||d.status==="aborted")return C;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(f.value,d.value)}return{status:n.value,value:c}}}}Fn.create=(t,e,n)=>new Fn({valueType:e,keyType:t,typeName:j.ZodMap,...Y(n)});class Dt extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.set)return M(r,{code:S.invalid_type,expected:k.set,received:r.parsedType}),C;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(M(r,{code:S.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(M(r,{code:S.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function u(g){const f=new Set;for(const d of g){if(d.status==="aborted")return C;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}const c=[...r.data.values()].map((g,f)=>s._parse(new We(r,g,r.path,f)));return r.common.async?Promise.all(c).then(g=>u(g)):u(c)}min(e,n){return new Dt({...this._def,minSize:{value:e,message:B.toString(n)}})}max(e,n){return new Dt({...this._def,maxSize:{value:e,message:B.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Dt.create=(t,e)=>new Dt({valueType:t,minSize:null,maxSize:null,typeName:j.ZodSet,...Y(e)});class qt extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.function)return M(n,{code:S.invalid_type,expected:k.function,received:n.parsedType}),C;function r(c,g){return Bn({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Un(),Ft].filter(f=>!!f),issueData:{code:S.invalid_arguments,argumentsError:g}})}function i(c,g){return Bn({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Un(),Ft].filter(f=>!!f),issueData:{code:S.invalid_return_type,returnTypeError:g}})}const s={errorMap:n.common.contextualErrorMap},u=n.data;if(this._def.returns instanceof $t){const c=this;return Ne(async function(...g){const f=new Le([]),d=await c._def.args.parseAsync(g,s).catch(x=>{throw f.addIssue(r(g,x)),f}),m=await Reflect.apply(u,this,d);return await c._def.returns._def.type.parseAsync(m,s).catch(x=>{throw f.addIssue(i(m,x)),f})})}else{const c=this;return Ne(function(...g){const f=c._def.args.safeParse(g,s);if(!f.success)throw new Le([r(g,f.error)]);const d=Reflect.apply(u,this,f.data),m=c._def.returns.safeParse(d,s);if(!m.success)throw new Le([i(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qt({...this._def,args:Xe.create(e).rest(Rt.create())})}returns(e){return new qt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new qt({args:e||Xe.create([]).rest(Rt.create()),returns:n||Rt.create(),typeName:j.ZodFunction,...Y(r)})}}class _n extends W{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_n.create=(t,e)=>new _n({getter:t,typeName:j.ZodLazy,...Y(e)});class vn extends W{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return M(n,{received:n.data,code:S.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}}vn.create=(t,e)=>new vn({value:t,typeName:j.ZodLiteral,...Y(e)});function yi(t,e){return new yt({values:t,typeName:j.ZodEnum,...Y(e)})}class yt extends W{constructor(){super(...arguments),un.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return M(n,{expected:ee.joinValues(r),received:n.parsedType,code:S.invalid_type}),C}if(Gn(this,un)||gi(this,un,new Set(this._def.values)),!Gn(this,un).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return M(n,{received:n.data,code:S.invalid_enum_value,options:r}),C}return Ne(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return yt.create(e,{...this._def,...n})}exclude(e,n=this._def){return yt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}un=new WeakMap,yt.create=yi;class En extends W{constructor(){super(...arguments),cn.set(this,void 0)}_parse(e){const n=ee.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==k.string&&r.parsedType!==k.number){const i=ee.objectValues(n);return M(r,{expected:ee.joinValues(i),received:r.parsedType,code:S.invalid_type}),C}if(Gn(this,cn)||gi(this,cn,new Set(ee.getValidEnumValues(this._def.values))),!Gn(this,cn).has(e.data)){const i=ee.objectValues(n);return M(r,{received:r.data,code:S.invalid_enum_value,options:i}),C}return Ne(e.data)}get enum(){return this._def.values}}cn=new WeakMap,En.create=(t,e)=>new En({values:t,typeName:j.ZodNativeEnum,...Y(e)});class $t extends W{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.promise&&n.common.async===!1)return M(n,{code:S.invalid_type,expected:k.promise,received:n.parsedType}),C;const r=n.parsedType===k.promise?n.data:Promise.resolve(n.data);return Ne(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}$t.create=(t,e)=>new $t({type:t,typeName:j.ZodPromise,...Y(e)});class qe extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:u=>{M(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const u=i.transform(r.data,s);if(r.common.async)return Promise.resolve(u).then(async c=>{if(n.value==="aborted")return C;const g=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return g.status==="aborted"?C:g.status==="dirty"||n.value==="dirty"?jt(g.value):g});{if(n.value==="aborted")return C;const c=this._def.schema._parseSync({data:u,path:r.path,parent:r});return c.status==="aborted"?C:c.status==="dirty"||n.value==="dirty"?jt(c.value):c}}if(i.type==="refinement"){const u=c=>{const g=i.refinement(c,s);if(r.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?C:(c.status==="dirty"&&n.dirty(),u(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?C:(c.status==="dirty"&&n.dirty(),u(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!on(u))return u;const c=i.transform(u.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>on(u)?Promise.resolve(i.transform(u.value,s)).then(c=>({status:n.value,value:c})):u);ee.assertNever(i)}}qe.create=(t,e,n)=>new qe({schema:t,typeName:j.ZodEffects,effect:e,...Y(n)}),qe.createWithPreprocess=(t,e,n)=>new qe({schema:e,effect:{type:"preprocess",transform:t},typeName:j.ZodEffects,...Y(n)});class Qe extends W{_parse(e){return this._getType(e)===k.undefined?Ne(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qe.create=(t,e)=>new Qe({innerType:t,typeName:j.ZodOptional,...Y(e)});class Tt extends W{_parse(e){return this._getType(e)===k.null?Ne(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tt.create=(t,e)=>new Tt({innerType:t,typeName:j.ZodNullable,...Y(e)});class yn extends W{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===k.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yn.create=(t,e)=>new yn({innerType:t,typeName:j.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class Tn extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ln(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Le(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Le(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Tn.create=(t,e)=>new Tn({innerType:t,typeName:j.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class jn extends W{_parse(e){if(this._getType(e)!==k.nan){const r=this._getOrReturnCtx(e);return M(r,{code:S.invalid_type,expected:k.nan,received:r.parsedType}),C}return{status:"valid",value:e.data}}}jn.create=t=>new jn({typeName:j.ZodNaN,...Y(t)});const $s=Symbol("zod_brand");class Or extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class wn extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?C:s.status==="dirty"?(n.dirty(),jt(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?C:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new wn({in:e,out:n,typeName:j.ZodPipeline})}}class An extends W{_parse(e){const n=this._def.innerType._parse(e),r=i=>(on(i)&&(i.value=Object.freeze(i.value)),i);return ln(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}An.create=(t,e)=>new An({innerType:t,typeName:j.ZodReadonly,...Y(e)});function Rr(t,e={},n){return t?Kt.create().superRefine((r,i)=>{var s,u;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,g=(u=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&u!==void 0?u:!0,f=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...f,fatal:g})}}):Kt.create()}const zs={object:de.lazycreate};var j;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(j||(j={}));const Ys=(t,e={message:`Input not instance of ${t.name}`})=>Rr(n=>n instanceof t,e),_=Ke.create,G=vt.create,Ws=jn.create,Ti=Et.create,q=dn.create,Xs=Ot.create,Qs=Zn.create,Js=fn.create,Kn=hn.create,ea=Kt.create,bn=Rt.create,ta=rt.create,na=Vn.create,te=Ce.create,R=de.create,ra=de.strictCreate,Dr=pn.create,ia=Hn.create,sa=gn.create,aa=Xe.create,oa=mn.create,la=Fn.create,ua=Dt.create,ca=qt.create,da=_n.create,_e=vn.create,fa=yt.create,zt=En.create,ha=$t.create,wi=qe.create,Ai=Qe.create,pa=Tt.create,bi=qe.createWithPreprocess,ga=wn.create;var L=Object.freeze({__proto__:null,defaultErrorMap:Ft,setErrorMap:Ds,getErrorMap:Un,makeIssue:Bn,EMPTY_PATH:Ms,addIssueToContext:M,ParseStatus:Te,INVALID:C,DIRTY:jt,OK:Ne,isAborted:br,isDirty:Ir,isValid:on,isAsync:ln,get util(){return ee},get objectUtil(){return Ar},ZodParsedType:k,getParsedType:_t,ZodType:W,datetimeRegex:Ei,ZodString:Ke,ZodNumber:vt,ZodBigInt:Et,ZodBoolean:dn,ZodDate:Ot,ZodSymbol:Zn,ZodUndefined:fn,ZodNull:hn,ZodAny:Kt,ZodUnknown:Rt,ZodNever:rt,ZodVoid:Vn,ZodArray:Ce,ZodObject:de,ZodUnion:pn,ZodDiscriminatedUnion:Hn,ZodIntersection:gn,ZodTuple:Xe,ZodRecord:mn,ZodMap:Fn,ZodSet:Dt,ZodFunction:qt,ZodLazy:_n,ZodLiteral:vn,ZodEnum:yt,ZodNativeEnum:En,ZodPromise:$t,ZodEffects:qe,ZodTransformer:qe,ZodOptional:Qe,ZodNullable:Tt,ZodDefault:yn,ZodCatch:Tn,ZodNaN:jn,BRAND:$s,ZodBranded:Or,ZodPipeline:wn,ZodReadonly:An,custom:Rr,Schema:W,ZodSchema:W,late:zs,get ZodFirstPartyTypeKind(){return j},coerce:{string:t=>Ke.create({...t,coerce:!0}),number:t=>vt.create({...t,coerce:!0}),boolean:t=>dn.create({...t,coerce:!0}),bigint:t=>Et.create({...t,coerce:!0}),date:t=>Ot.create({...t,coerce:!0})},any:ea,array:te,bigint:Ti,boolean:q,date:Xs,discriminatedUnion:ia,effect:wi,enum:fa,function:ca,instanceof:Ys,intersection:sa,lazy:da,literal:_e,map:la,nan:Ws,nativeEnum:zt,never:ta,null:Kn,nullable:pa,number:G,object:R,oboolean:()=>q().optional(),onumber:()=>G().optional(),optional:Ai,ostring:()=>_().optional(),pipeline:ga,preprocess:bi,promise:ha,record:oa,set:ua,strictObject:ra,string:_,symbol:Qs,transformer:wi,tuple:aa,undefined:Js,union:Dr,unknown:bn,void:na,NEVER:C,ZodIssueCode:S,quotelessJson:Rs,ZodError:Le}),Mr={exports:{}},Ii;function ma(){return Ii||(Ii=1,function(t){var e=function(n){var r=1e7,i=7,s=9007199254740992,u=X(s),c="0123456789abcdefghijklmnopqrstuvwxyz",g=typeof BigInt=="function";function f(a,l,p,E){return typeof a>"u"?f[0]:typeof l<"u"?+l==10&&!p?F(a):lr(a,l,p,E):F(a)}function d(a,l){this.value=a,this.sign=l,this.isSmall=!1}d.prototype=Object.create(f.prototype);function m(a){this.value=a,this.sign=a<0,this.isSmall=!0}m.prototype=Object.create(f.prototype);function A(a){this.value=a}A.prototype=Object.create(f.prototype);function x(a){return-s<a&&a<s}function X(a){return a<1e7?[a]:a<1e14?[a%1e7,Math.floor(a/1e7)]:[a%1e7,Math.floor(a/1e7)%1e7,Math.floor(a/1e14)]}function V(a){D(a);var l=a.length;if(l<4&&ut(a,u)<0)switch(l){case 0:return 0;case 1:return a[0];case 2:return a[0]+a[1]*r;default:return a[0]+(a[1]+a[2]*r)*r}return a}function D(a){for(var l=a.length;a[--l]===0;);a.length=l+1}function he(a){for(var l=new Array(a),p=-1;++p<a;)l[p]=0;return l}function re(a){return a>0?Math.floor(a):Math.ceil(a)}function se(a,l){var p=a.length,E=l.length,T=new Array(p),y=0,b=r,I,N;for(N=0;N<E;N++)I=a[N]+l[N]+y,y=I>=b?1:0,T[N]=I-y*b;for(;N<p;)I=a[N]+y,y=I===b?1:0,T[N++]=I-y*b;return y>0&&T.push(y),T}function Se(a,l){return a.length>=l.length?se(a,l):se(l,a)}function me(a,l){var p=a.length,E=new Array(p),T=r,y,b;for(b=0;b<p;b++)y=a[b]-T+l,l=Math.floor(y/T),E[b]=y-l*T,l+=1;for(;l>0;)E[b++]=l%T,l=Math.floor(l/T);return E}d.prototype.add=function(a){var l=F(a);if(this.sign!==l.sign)return this.subtract(l.negate());var p=this.value,E=l.value;return l.isSmall?new d(me(p,Math.abs(E)),this.sign):new d(Se(p,E),this.sign)},d.prototype.plus=d.prototype.add,m.prototype.add=function(a){var l=F(a),p=this.value;if(p<0!==l.sign)return this.subtract(l.negate());var E=l.value;if(l.isSmall){if(x(p+E))return new m(p+E);E=X(Math.abs(E))}return new d(me(E,Math.abs(p)),p<0)},m.prototype.plus=m.prototype.add,A.prototype.add=function(a){return new A(this.value+F(a).value)},A.prototype.plus=A.prototype.add;function Ve(a,l){var p=a.length,E=l.length,T=new Array(p),y=0,b=r,I,N;for(I=0;I<E;I++)N=a[I]-y-l[I],N<0?(N+=b,y=1):y=0,T[I]=N;for(I=E;I<p;I++){if(N=a[I]-y,N<0)N+=b;else{T[I++]=N;break}T[I]=N}for(;I<p;I++)T[I]=a[I];return D(T),T}function Ae(a,l,p){var E;return ut(a,l)>=0?E=Ve(a,l):(E=Ve(l,a),p=!p),E=V(E),typeof E=="number"?(p&&(E=-E),new m(E)):new d(E,p)}function Ge(a,l,p){var E=a.length,T=new Array(E),y=-l,b=r,I,N;for(I=0;I<E;I++)N=a[I]+y,y=Math.floor(N/b),N%=b,T[I]=N<0?N+b:N;return T=V(T),typeof T=="number"?(p&&(T=-T),new m(T)):new d(T,p)}d.prototype.subtract=function(a){var l=F(a);if(this.sign!==l.sign)return this.add(l.negate());var p=this.value,E=l.value;return l.isSmall?Ge(p,Math.abs(E),this.sign):Ae(p,E,this.sign)},d.prototype.minus=d.prototype.subtract,m.prototype.subtract=function(a){var l=F(a),p=this.value;if(p<0!==l.sign)return this.add(l.negate());var E=l.value;return l.isSmall?new m(p-E):Ge(E,Math.abs(p),p>=0)},m.prototype.minus=m.prototype.subtract,A.prototype.subtract=function(a){return new A(this.value-F(a).value)},A.prototype.minus=A.prototype.subtract,d.prototype.negate=function(){return new d(this.value,!this.sign)},m.prototype.negate=function(){var a=this.sign,l=new m(-this.value);return l.sign=!a,l},A.prototype.negate=function(){return new A(-this.value)},d.prototype.abs=function(){return new d(this.value,!1)},m.prototype.abs=function(){return new m(Math.abs(this.value))},A.prototype.abs=function(){return new A(this.value>=0?this.value:-this.value)};function $e(a,l){var p=a.length,E=l.length,T=p+E,y=he(T),b=r,I,N,H,J,$;for(H=0;H<p;++H){J=a[H];for(var ne=0;ne<E;++ne)$=l[ne],I=J*$+y[H+ne],N=Math.floor(I/b),y[H+ne]=I-N*b,y[H+ne+1]+=N}return D(y),y}function He(a,l){var p=a.length,E=new Array(p),T=r,y=0,b,I;for(I=0;I<p;I++)b=a[I]*l+y,y=Math.floor(b/T),E[I]=b-y*T;for(;y>0;)E[I++]=y%T,y=Math.floor(y/T);return E}function Oe(a,l){for(var p=[];l-- >0;)p.push(0);return p.concat(a)}function le(a,l){var p=Math.max(a.length,l.length);if(p<=30)return $e(a,l);p=Math.ceil(p/2);var E=a.slice(p),T=a.slice(0,p),y=l.slice(p),b=l.slice(0,p),I=le(T,b),N=le(E,y),H=le(Se(T,E),Se(b,y)),J=Se(Se(I,Oe(Ve(Ve(H,I),N),p)),Oe(N,2*p));return D(J),J}function Cr(a,l){return-.012*a-.012*l+15e-6*a*l>0}d.prototype.multiply=function(a){var l=F(a),p=this.value,E=l.value,T=this.sign!==l.sign,y;if(l.isSmall){if(E===0)return f[0];if(E===1)return this;if(E===-1)return this.negate();if(y=Math.abs(E),y<r)return new d(He(p,y),T);E=X(y)}return Cr(p.length,E.length)?new d(le(p,E),T):new d($e(p,E),T)},d.prototype.times=d.prototype.multiply;function Jn(a,l,p){return a<r?new d(He(l,a),p):new d($e(l,X(a)),p)}m.prototype._multiplyBySmall=function(a){return x(a.value*this.value)?new m(a.value*this.value):Jn(Math.abs(a.value),X(Math.abs(this.value)),this.sign!==a.sign)},d.prototype._multiplyBySmall=function(a){return a.value===0?f[0]:a.value===1?this:a.value===-1?this.negate():Jn(Math.abs(a.value),this.value,this.sign!==a.sign)},m.prototype.multiply=function(a){return F(a)._multiplyBySmall(this)},m.prototype.times=m.prototype.multiply,A.prototype.multiply=function(a){return new A(this.value*F(a).value)},A.prototype.times=A.prototype.multiply;function er(a){var l=a.length,p=he(l+l),E=r,T,y,b,I,N;for(b=0;b<l;b++){I=a[b],y=0-I*I;for(var H=b;H<l;H++)N=a[H],T=2*(I*N)+p[b+H]+y,y=Math.floor(T/E),p[b+H]=T-y*E;p[b+l]=y}return D(p),p}d.prototype.square=function(){return new d(er(this.value),!1)},m.prototype.square=function(){var a=this.value*this.value;return x(a)?new m(a):new d(er(X(Math.abs(this.value))),!1)},A.prototype.square=function(a){return new A(this.value*this.value)};function qr(a,l){var p=a.length,E=l.length,T=r,y=he(l.length),b=l[E-1],I=Math.ceil(T/(2*b)),N=He(a,I),H=He(l,I),J,$,ne,Re,be,Mn,kn;for(N.length<=p&&N.push(0),H.push(0),b=H[E-1],$=p-E;$>=0;$--){for(J=T-1,N[$+E]!==b&&(J=Math.floor((N[$+E]*T+N[$+E-1])/b)),ne=0,Re=0,Mn=H.length,be=0;be<Mn;be++)ne+=J*H[be],kn=Math.floor(ne/T),Re+=N[$+be]-(ne-kn*T),ne=kn,Re<0?(N[$+be]=Re+T,Re=-1):(N[$+be]=Re,Re=0);for(;Re!==0;){for(J-=1,ne=0,be=0;be<Mn;be++)ne+=N[$+be]-T+H[be],ne<0?(N[$+be]=ne+T,ne=0):(N[$+be]=ne,ne=1);Re+=ne}y[$]=J}return N=tr(N,I)[0],[V(y),V(N)]}function $r(a,l){for(var p=a.length,E=l.length,T=[],y=[],b=r,I,N,H,J,$;p;){if(y.unshift(a[--p]),D(y),ut(y,l)<0){T.push(0);continue}N=y.length,H=y[N-1]*b+y[N-2],J=l[E-1]*b+l[E-2],N>E&&(H=(H+1)*b),I=Math.ceil(H/J);do{if($=He(l,I),ut($,y)<=0)break;I--}while(I);T.push(I),y=Ve(y,$)}return T.reverse(),[V(T),V(y)]}function tr(a,l){var p=a.length,E=he(p),T=r,y,b,I,N;for(I=0,y=p-1;y>=0;--y)N=I*T+a[y],b=re(N/l),I=N-b*l,E[y]=b|0;return[E,I|0]}function lt(a,l){var p,E=F(l);if(g)return[new A(a.value/E.value),new A(a.value%E.value)];var T=a.value,y=E.value,b;if(y===0)throw new Error("Cannot divide by zero");if(a.isSmall)return E.isSmall?[new m(re(T/y)),new m(T%y)]:[f[0],a];if(E.isSmall){if(y===1)return[a,f[0]];if(y==-1)return[a.negate(),f[0]];var I=Math.abs(y);if(I<r){p=tr(T,I),b=V(p[0]);var N=p[1];return a.sign&&(N=-N),typeof b=="number"?(a.sign!==E.sign&&(b=-b),[new m(b),new m(N)]):[new d(b,a.sign!==E.sign),new m(N)]}y=X(I)}var H=ut(T,y);if(H===-1)return[f[0],a];if(H===0)return[f[a.sign===E.sign?1:-1],f[0]];T.length+y.length<=200?p=qr(T,y):p=$r(T,y),b=p[0];var J=a.sign!==E.sign,$=p[1],ne=a.sign;return typeof b=="number"?(J&&(b=-b),b=new m(b)):b=new d(b,J),typeof $=="number"?(ne&&($=-$),$=new m($)):$=new d($,ne),[b,$]}d.prototype.divmod=function(a){var l=lt(this,a);return{quotient:l[0],remainder:l[1]}},A.prototype.divmod=m.prototype.divmod=d.prototype.divmod,d.prototype.divide=function(a){return lt(this,a)[0]},A.prototype.over=A.prototype.divide=function(a){return new A(this.value/F(a).value)},m.prototype.over=m.prototype.divide=d.prototype.over=d.prototype.divide,d.prototype.mod=function(a){return lt(this,a)[1]},A.prototype.mod=A.prototype.remainder=function(a){return new A(this.value%F(a).value)},m.prototype.remainder=m.prototype.mod=d.prototype.remainder=d.prototype.mod,d.prototype.pow=function(a){var l=F(a),p=this.value,E=l.value,T,y,b;if(E===0)return f[1];if(p===0)return f[0];if(p===1)return f[1];if(p===-1)return l.isEven()?f[1]:f[-1];if(l.sign)return f[0];if(!l.isSmall)throw new Error("The exponent "+l.toString()+" is too large.");if(this.isSmall&&x(T=Math.pow(p,E)))return new m(re(T));for(y=this,b=f[1];E&!0&&(b=b.times(y),--E),E!==0;)E/=2,y=y.square();return b},m.prototype.pow=d.prototype.pow,A.prototype.pow=function(a){var l=F(a),p=this.value,E=l.value,T=BigInt(0),y=BigInt(1),b=BigInt(2);if(E===T)return f[1];if(p===T)return f[0];if(p===y)return f[1];if(p===BigInt(-1))return l.isEven()?f[1]:f[-1];if(l.isNegative())return new A(T);for(var I=this,N=f[1];(E&y)===y&&(N=N.times(I),--E),E!==T;)E/=b,I=I.square();return N},d.prototype.modPow=function(a,l){if(a=F(a),l=F(l),l.isZero())throw new Error("Cannot take modPow with modulus 0");var p=f[1],E=this.mod(l);for(a.isNegative()&&(a=a.multiply(f[-1]),E=E.modInv(l));a.isPositive();){if(E.isZero())return f[0];a.isOdd()&&(p=p.multiply(E).mod(l)),a=a.divide(2),E=E.square().mod(l)}return p},A.prototype.modPow=m.prototype.modPow=d.prototype.modPow;function ut(a,l){if(a.length!==l.length)return a.length>l.length?1:-1;for(var p=a.length-1;p>=0;p--)if(a[p]!==l[p])return a[p]>l[p]?1:-1;return 0}d.prototype.compareAbs=function(a){var l=F(a),p=this.value,E=l.value;return l.isSmall?1:ut(p,E)},m.prototype.compareAbs=function(a){var l=F(a),p=Math.abs(this.value),E=l.value;return l.isSmall?(E=Math.abs(E),p===E?0:p>E?1:-1):-1},A.prototype.compareAbs=function(a){var l=this.value,p=F(a).value;return l=l>=0?l:-l,p=p>=0?p:-p,l===p?0:l>p?1:-1},d.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;var l=F(a),p=this.value,E=l.value;return this.sign!==l.sign?l.sign?1:-1:l.isSmall?this.sign?-1:1:ut(p,E)*(this.sign?-1:1)},d.prototype.compareTo=d.prototype.compare,m.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;var l=F(a),p=this.value,E=l.value;return l.isSmall?p==E?0:p>E?1:-1:p<0!==l.sign?p<0?-1:1:p<0?1:-1},m.prototype.compareTo=m.prototype.compare,A.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;var l=this.value,p=F(a).value;return l===p?0:l>p?1:-1},A.prototype.compareTo=A.prototype.compare,d.prototype.equals=function(a){return this.compare(a)===0},A.prototype.eq=A.prototype.equals=m.prototype.eq=m.prototype.equals=d.prototype.eq=d.prototype.equals,d.prototype.notEquals=function(a){return this.compare(a)!==0},A.prototype.neq=A.prototype.notEquals=m.prototype.neq=m.prototype.notEquals=d.prototype.neq=d.prototype.notEquals,d.prototype.greater=function(a){return this.compare(a)>0},A.prototype.gt=A.prototype.greater=m.prototype.gt=m.prototype.greater=d.prototype.gt=d.prototype.greater,d.prototype.lesser=function(a){return this.compare(a)<0},A.prototype.lt=A.prototype.lesser=m.prototype.lt=m.prototype.lesser=d.prototype.lt=d.prototype.lesser,d.prototype.greaterOrEquals=function(a){return this.compare(a)>=0},A.prototype.geq=A.prototype.greaterOrEquals=m.prototype.geq=m.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals,d.prototype.lesserOrEquals=function(a){return this.compare(a)<=0},A.prototype.leq=A.prototype.lesserOrEquals=m.prototype.leq=m.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals,d.prototype.isEven=function(){return(this.value[0]&1)===0},m.prototype.isEven=function(){return(this.value&1)===0},A.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},d.prototype.isOdd=function(){return(this.value[0]&1)===1},m.prototype.isOdd=function(){return(this.value&1)===1},A.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},d.prototype.isPositive=function(){return!this.sign},m.prototype.isPositive=function(){return this.value>0},A.prototype.isPositive=m.prototype.isPositive,d.prototype.isNegative=function(){return this.sign},m.prototype.isNegative=function(){return this.value<0},A.prototype.isNegative=m.prototype.isNegative,d.prototype.isUnit=function(){return!1},m.prototype.isUnit=function(){return Math.abs(this.value)===1},A.prototype.isUnit=function(){return this.abs().value===BigInt(1)},d.prototype.isZero=function(){return!1},m.prototype.isZero=function(){return this.value===0},A.prototype.isZero=function(){return this.value===BigInt(0)},d.prototype.isDivisibleBy=function(a){var l=F(a);return l.isZero()?!1:l.isUnit()?!0:l.compareAbs(2)===0?this.isEven():this.mod(l).isZero()},A.prototype.isDivisibleBy=m.prototype.isDivisibleBy=d.prototype.isDivisibleBy;function nr(a){var l=a.abs();if(l.isUnit())return!1;if(l.equals(2)||l.equals(3)||l.equals(5))return!0;if(l.isEven()||l.isDivisibleBy(3)||l.isDivisibleBy(5))return!1;if(l.lesser(49))return!0}function On(a,l){for(var p=a.prev(),E=p,T=0,y,b,I;E.isEven();)E=E.divide(2),T++;e:for(b=0;b<l.length;b++)if(!a.lesser(l[b])&&(I=e(l[b]).modPow(E,a),!(I.isUnit()||I.equals(p)))){for(y=T-1;y!=0;y--){if(I=I.square().mod(a),I.isUnit())return!1;if(I.equals(p))continue e}return!1}return!0}d.prototype.isPrime=function(a){var l=nr(this);if(l!==n)return l;var p=this.abs(),E=p.bitLength();if(E<=64)return On(p,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var T=Math.log(2)*E.toJSNumber(),y=Math.ceil(a===!0?2*Math.pow(T,2):T),b=[],I=0;I<y;I++)b.push(e(I+2));return On(p,b)},A.prototype.isPrime=m.prototype.isPrime=d.prototype.isPrime,d.prototype.isProbablePrime=function(a,l){var p=nr(this);if(p!==n)return p;for(var E=this.abs(),T=a===n?5:a,y=[],b=0;b<T;b++)y.push(e.randBetween(2,E.minus(2),l));return On(E,y)},A.prototype.isProbablePrime=m.prototype.isProbablePrime=d.prototype.isProbablePrime,d.prototype.modInv=function(a){for(var l=e.zero,p=e.one,E=F(a),T=this.abs(),y,b,I;!T.isZero();)y=E.divide(T),b=l,I=E,l=p,E=T,p=b.subtract(y.multiply(p)),T=I.subtract(y.multiply(T));if(!E.isUnit())throw new Error(this.toString()+" and "+a.toString()+" are not co-prime");return l.compare(0)===-1&&(l=l.add(a)),this.isNegative()?l.negate():l},A.prototype.modInv=m.prototype.modInv=d.prototype.modInv,d.prototype.next=function(){var a=this.value;return this.sign?Ge(a,1,this.sign):new d(me(a,1),this.sign)},m.prototype.next=function(){var a=this.value;return a+1<s?new m(a+1):new d(u,!1)},A.prototype.next=function(){return new A(this.value+BigInt(1))},d.prototype.prev=function(){var a=this.value;return this.sign?new d(me(a,1),!0):Ge(a,1,this.sign)},m.prototype.prev=function(){var a=this.value;return a-1>-s?new m(a-1):new d(u,!0)},A.prototype.prev=function(){return new A(this.value-BigInt(1))};for(var ze=[1];2*ze[ze.length-1]<=r;)ze.push(2*ze[ze.length-1]);var Lt=ze.length,ct=ze[Lt-1];function rr(a){return Math.abs(a)<=r}d.prototype.shiftLeft=function(a){var l=F(a).toJSNumber();if(!rr(l))throw new Error(String(l)+" is too large for shifting.");if(l<0)return this.shiftRight(-l);var p=this;if(p.isZero())return p;for(;l>=Lt;)p=p.multiply(ct),l-=Lt-1;return p.multiply(ze[l])},A.prototype.shiftLeft=m.prototype.shiftLeft=d.prototype.shiftLeft,d.prototype.shiftRight=function(a){var l,p=F(a).toJSNumber();if(!rr(p))throw new Error(String(p)+" is too large for shifting.");if(p<0)return this.shiftLeft(-p);for(var E=this;p>=Lt;){if(E.isZero()||E.isNegative()&&E.isUnit())return E;l=lt(E,ct),E=l[1].isNegative()?l[0].prev():l[0],p-=Lt-1}return l=lt(E,ze[p]),l[1].isNegative()?l[0].prev():l[0]},A.prototype.shiftRight=m.prototype.shiftRight=d.prototype.shiftRight;function Rn(a,l,p){l=F(l);for(var E=a.isNegative(),T=l.isNegative(),y=E?a.not():a,b=T?l.not():l,I=0,N=0,H=null,J=null,$=[];!y.isZero()||!b.isZero();)H=lt(y,ct),I=H[1].toJSNumber(),E&&(I=ct-1-I),J=lt(b,ct),N=J[1].toJSNumber(),T&&(N=ct-1-N),y=H[0],b=J[0],$.push(p(I,N));for(var ne=p(E?1:0,T?1:0)!==0?e(-1):e(0),Re=$.length-1;Re>=0;Re-=1)ne=ne.multiply(ct).add(e($[Re]));return ne}d.prototype.not=function(){return this.negate().prev()},A.prototype.not=m.prototype.not=d.prototype.not,d.prototype.and=function(a){return Rn(this,a,function(l,p){return l&p})},A.prototype.and=m.prototype.and=d.prototype.and,d.prototype.or=function(a){return Rn(this,a,function(l,p){return l|p})},A.prototype.or=m.prototype.or=d.prototype.or,d.prototype.xor=function(a){return Rn(this,a,function(l,p){return l^p})},A.prototype.xor=m.prototype.xor=d.prototype.xor;var ae=1<<30,ir=(r&-r)*(r&-r)|ae;function nn(a){var l=a.value,p=typeof l=="number"?l|ae:typeof l=="bigint"?l|BigInt(ae):l[0]+l[1]*r|ir;return p&-p}function Ye(a,l){if(l.compareTo(a)<=0){var p=Ye(a,l.square(l)),E=p.p,T=p.e,y=E.multiply(l);return y.compareTo(a)<=0?{p:y,e:T*2+1}:{p:E,e:T*2}}return{p:e(1),e:0}}d.prototype.bitLength=function(){var a=this;return a.compareTo(e(0))<0&&(a=a.negate().subtract(e(1))),a.compareTo(e(0))===0?e(0):e(Ye(a,e(2)).e).add(e(1))},A.prototype.bitLength=m.prototype.bitLength=d.prototype.bitLength;function Dn(a,l){return a=F(a),l=F(l),a.greater(l)?a:l}function rn(a,l){return a=F(a),l=F(l),a.lesser(l)?a:l}function sr(a,l){if(a=F(a).abs(),l=F(l).abs(),a.equals(l))return a;if(a.isZero())return l;if(l.isZero())return a;for(var p=f[1],E,T;a.isEven()&&l.isEven();)E=rn(nn(a),nn(l)),a=a.divide(E),l=l.divide(E),p=p.multiply(E);for(;a.isEven();)a=a.divide(nn(a));do{for(;l.isEven();)l=l.divide(nn(l));a.greater(l)&&(T=l,l=a,a=T),l=l.subtract(a)}while(!l.isZero());return p.isUnit()?a:a.multiply(p)}function ar(a,l){return a=F(a).abs(),l=F(l).abs(),a.divide(sr(a,l)).multiply(l)}function or(a,l,p){a=F(a),l=F(l);var E=p||Math.random,T=rn(a,l),y=Dn(a,l),b=y.subtract(T).add(1);if(b.isSmall)return T.add(Math.floor(E()*b));for(var I=Ut(b,r).value,N=[],H=!0,J=0;J<I.length;J++){var $=H?I[J]+(J+1<I.length?I[J+1]/r:0):r,ne=re(E()*$);N.push(ne),ne<I[J]&&(H=!1)}return T.add(f.fromArray(N,r,!1))}var lr=function(a,l,p,E){p=p||c,a=String(a),E||(a=a.toLowerCase(),p=p.toLowerCase());var T=a.length,y,b=Math.abs(l),I={};for(y=0;y<p.length;y++)I[p[y]]=y;for(y=0;y<T;y++){var N=a[y];if(N!=="-"&&N in I&&I[N]>=b){if(N==="1"&&b===1)continue;throw new Error(N+" is not a valid digit in base "+l+".")}}l=F(l);var H=[],J=a[0]==="-";for(y=J?1:0;y<a.length;y++){var N=a[y];if(N in I)H.push(F(I[N]));else if(N==="<"){var $=y;do y++;while(a[y]!==">"&&y<a.length);H.push(F(a.slice($+1,y)))}else throw new Error(N+" is not a valid character")}return ur(H,l,J)};function ur(a,l,p){var E=f[0],T=f[1],y;for(y=a.length-1;y>=0;y--)E=E.add(a[y].times(T)),T=T.times(l);return p?E.negate():E}function zr(a,l){return l=l||c,a<l.length?l[a]:"<"+a+">"}function Ut(a,l){if(l=e(l),l.isZero()){if(a.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(l.equals(-1)){if(a.isZero())return{value:[0],isNegative:!1};if(a.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-a.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var p=Array.apply(null,Array(a.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return p.unshift([1]),{value:[].concat.apply([],p),isNegative:!1}}var E=!1;if(a.isNegative()&&l.isPositive()&&(E=!0,a=a.abs()),l.isUnit())return a.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(a.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:E};for(var T=[],y=a,b;y.isNegative()||y.compareAbs(l)>=0;){b=y.divmod(l),y=b.quotient;var I=b.remainder;I.isNegative()&&(I=l.minus(I).abs(),y=y.next()),T.push(I.toJSNumber())}return T.push(y.toJSNumber()),{value:T.reverse(),isNegative:E}}function cr(a,l,p){var E=Ut(a,l);return(E.isNegative?"-":"")+E.value.map(function(T){return zr(T,p)}).join("")}d.prototype.toArray=function(a){return Ut(this,a)},m.prototype.toArray=function(a){return Ut(this,a)},A.prototype.toArray=function(a){return Ut(this,a)},d.prototype.toString=function(a,l){if(a===n&&(a=10),a!==10||l)return cr(this,a,l);for(var p=this.value,E=p.length,T=String(p[--E]),y="0000000",b;--E>=0;)b=String(p[E]),T+=y.slice(b.length)+b;var I=this.sign?"-":"";return I+T},m.prototype.toString=function(a,l){return a===n&&(a=10),a!=10||l?cr(this,a,l):String(this.value)},A.prototype.toString=m.prototype.toString,A.prototype.toJSON=d.prototype.toJSON=m.prototype.toJSON=function(){return this.toString()},d.prototype.valueOf=function(){return parseInt(this.toString(),10)},d.prototype.toJSNumber=d.prototype.valueOf,m.prototype.valueOf=function(){return this.value},m.prototype.toJSNumber=m.prototype.valueOf,A.prototype.valueOf=A.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function dr(a){if(x(+a)){var l=+a;if(l===re(l))return g?new A(BigInt(l)):new m(l);throw new Error("Invalid integer: "+a)}var p=a[0]==="-";p&&(a=a.slice(1));var E=a.split(/e/i);if(E.length>2)throw new Error("Invalid integer: "+E.join("e"));if(E.length===2){var T=E[1];if(T[0]==="+"&&(T=T.slice(1)),T=+T,T!==re(T)||!x(T))throw new Error("Invalid integer: "+T+" is not a valid exponent.");var y=E[0],b=y.indexOf(".");if(b>=0&&(T-=y.length-b-1,y=y.slice(0,b)+y.slice(b+1)),T<0)throw new Error("Cannot include negative exponent part for integers");y+=new Array(T+1).join("0"),a=y}var I=/^([0-9][0-9]*)$/.test(a);if(!I)throw new Error("Invalid integer: "+a);if(g)return new A(BigInt(p?"-"+a:a));for(var N=[],H=a.length,J=i,$=H-J;H>0;)N.push(+a.slice($,H)),$-=J,$<0&&($=0),H-=J;return D(N),new d(N,p)}function Yr(a){if(g)return new A(BigInt(a));if(x(a)){if(a!==re(a))throw new Error(a+" is not an integer.");return new m(a)}return dr(a.toString())}function F(a){return typeof a=="number"?Yr(a):typeof a=="string"?dr(a):typeof a=="bigint"?new A(a):a}for(var dt=0;dt<1e3;dt++)f[dt]=F(dt),dt>0&&(f[-dt]=F(-dt));return f.one=f[1],f.zero=f[0],f.minusOne=f[-1],f.max=Dn,f.min=rn,f.gcd=sr,f.lcm=ar,f.isInstance=function(a){return a instanceof d||a instanceof m||a instanceof A},f.randBetween=or,f.fromArray=function(a,l,p){return ur(a.map(F),F(l||10),p)},f}();t.hasOwnProperty("exports")&&(t.exports=e)}(Mr)),Mr.exports}var _a=ma(),va=fi(_a);const Ni=64,kr=16,wt=Ni/kr;function Ea(){try{return!0}catch{return!1}}function ya(t,e,n){let r=0;for(let i=0;i<n;i++){const s=t[e+i];if(s===void 0)break;r+=s*16**i}return r}function Si(t){const e=[];for(let n=0;n<t.length;n++){let r=Number(t[n]);for(let i=0;r||i<e.length;i++)r+=(e[i]||0)*10,e[i]=r%16,r=(r-e[i])/16}return e}function Ta(t){const e=Si(t),n=Array(wt);for(let r=0;r<wt;r++)n[wt-1-r]=ya(e,r*wt,wt);return n}class Je{static fromString(e){return new Je(Ta(e),e)}static fromBit(e){const n=Array(wt),r=Math.floor(e/kr);for(let i=0;i<wt;i++)n[wt-1-i]=i===r?1<<e-r*kr:0;return new Je(n)}constructor(e,n){this.parts=e,this.str=n}and({parts:e}){return new Je(this.parts.map((n,r)=>n&e[r]))}or({parts:e}){return new Je(this.parts.map((n,r)=>n|e[r]))}xor({parts:e}){return new Je(this.parts.map((n,r)=>n^e[r]))}not(){return new Je(this.parts.map(e=>~e))}equals({parts:e}){return this.parts.every((n,r)=>n===e[r])}toString(){if(this.str!=null)return this.str;const e=new Array(Ni/4);return this.parts.forEach((n,r)=>{const i=Si(n.toString());for(let s=0;s<4;s++)e[s+r*4]=i[3-s]||0}),this.str=va.fromArray(e,16).toString()}toJSON(){return this.toString()}}const At=Ea();At&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const Cn={},Oi=At?function(e){return BigInt(e)}:function(e){return e instanceof Je?e:(typeof e=="number"&&(e=e.toString()),Cn[e]!=null||(Cn[e]=Je.fromString(e)),Cn[e])},Ee=Oi(0),qn=At?function(e=Ee,n=Ee){return e&n}:function(e=Ee,n=Ee){return e.and(n)},Ri=At?function(e=Ee,n=Ee){return e|n}:function(e=Ee,n=Ee){return e.or(n)},wa=At?function(e=Ee,n=Ee){return e^n}:function(e=Ee,n=Ee){return e.xor(n)},Aa=At?function(e=Ee){return~e}:function(e=Ee){return e.not()},xr=At?function(e,n){return e===n}:function(e,n){return e==null||n==null?e==n:e.equals(n)};function ba(...t){let e=t[0];for(let n=1;n<t.length;n++)e=Ri(e,t[n]);return e}function Ia(t,e){return xr(qn(t,e),e)}function Na(t,e){return!xr(qn(t,e),Ee)}function Sa(t,e){return e===Ee?t:Ri(t,e)}function Oa(t,e){return e===Ee?t:wa(t,qn(t,e))}var K={combine:ba,add:Sa,remove:Oa,filter:qn,invert:Aa,has:Ia,hasAny:Na,equals:xr,deserialize:Oi,getFlag:At?function(e){return BigInt(1)<<BigInt(e)}:function(e){return Je.fromBit(e)}},Di;(function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4001]="INVALID_ORIGIN",t[t.RATELIMITED=4002]="RATELIMITED",t[t.TOKEN_REVOKED=4003]="TOKEN_REVOKED",t[t.INVALID_VERSION=4004]="INVALID_VERSION",t[t.INVALID_ENCODING=4005]="INVALID_ENCODING"})(Di||(Di={}));var Pr;(function(t){t[t.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",t[t.INVALID_COMMAND=4002]="INVALID_COMMAND",t[t.INVALID_EVENT=4004]="INVALID_EVENT",t[t.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})(Pr||(Pr={}));var Lr;(function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait"})(Lr||(Lr={}));var st;(function(t){t.MOBILE="mobile",t.DESKTOP="desktop"})(st||(st={})),Object.freeze({CREATE_INSTANT_INVITE:K.getFlag(0),KICK_MEMBERS:K.getFlag(1),BAN_MEMBERS:K.getFlag(2),ADMINISTRATOR:K.getFlag(3),MANAGE_CHANNELS:K.getFlag(4),MANAGE_GUILD:K.getFlag(5),ADD_REACTIONS:K.getFlag(6),VIEW_AUDIT_LOG:K.getFlag(7),PRIORITY_SPEAKER:K.getFlag(8),STREAM:K.getFlag(9),VIEW_CHANNEL:K.getFlag(10),SEND_MESSAGES:K.getFlag(11),SEND_TTS_MESSAGES:K.getFlag(12),MANAGE_MESSAGES:K.getFlag(13),EMBED_LINKS:K.getFlag(14),ATTACH_FILES:K.getFlag(15),READ_MESSAGE_HISTORY:K.getFlag(16),MENTION_EVERYONE:K.getFlag(17),USE_EXTERNAL_EMOJIS:K.getFlag(18),VIEW_GUILD_INSIGHTS:K.getFlag(19),CONNECT:K.getFlag(20),SPEAK:K.getFlag(21),MUTE_MEMBERS:K.getFlag(22),DEAFEN_MEMBERS:K.getFlag(23),MOVE_MEMBERS:K.getFlag(24),USE_VAD:K.getFlag(25),CHANGE_NICKNAME:K.getFlag(26),MANAGE_NICKNAMES:K.getFlag(27),MANAGE_ROLES:K.getFlag(28),MANAGE_WEBHOOKS:K.getFlag(29),MANAGE_GUILD_EXPRESSIONS:K.getFlag(30),USE_APPLICATION_COMMANDS:K.getFlag(31),REQUEST_TO_SPEAK:K.getFlag(32),MANAGE_EVENTS:K.getFlag(33),MANAGE_THREADS:K.getFlag(34),CREATE_PUBLIC_THREADS:K.getFlag(35),CREATE_PRIVATE_THREADS:K.getFlag(36),USE_EXTERNAL_STICKERS:K.getFlag(37),SEND_MESSAGES_IN_THREADS:K.getFlag(38),USE_EMBEDDED_ACTIVITIES:K.getFlag(39),MODERATE_MEMBERS:K.getFlag(40),VIEW_CREATOR_MONETIZATION_ANALYTICS:K.getFlag(41),USE_SOUNDBOARD:K.getFlag(42),CREATE_GUILD_EXPRESSIONS:K.getFlag(43),CREATE_EVENTS:K.getFlag(44),USE_EXTERNAL_SOUNDS:K.getFlag(45),SEND_VOICE_MESSAGES:K.getFlag(46),SEND_POLLS:K.getFlag(49),USE_EXTERNAL_APPS:K.getFlag(50)});const Mi=-1,Ra=250;function we(t){return bi(e=>{var n;const[r]=(n=Object.entries(t).find(([,i])=>i===e))!==null&&n!==void 0?n:[];return e!=null&&r===void 0?t.UNHANDLED:e},_().or(G()))}function ki(t){const e=Rr().transform(n=>{const r=t.safeParse(n);return r.success?r.data:t._def.defaultValue()});return e.overlayType=t,e}const Da=L.object({image_url:L.string()}),Ma=L.object({mediaUrl:L.string().max(1024)}),ka=L.object({access_token:L.union([L.string(),L.null()]).optional()}),xi=L.object({access_token:L.string(),user:L.object({username:L.string(),discriminator:L.string(),id:L.string(),avatar:L.union([L.string(),L.null()]).optional(),public_flags:L.number(),global_name:L.union([L.string(),L.null()]).optional()}),scopes:L.array(ki(L.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer"]).or(L.literal(-1)).default(-1))),expires:L.string(),application:L.object({description:L.string(),icon:L.union([L.string(),L.null()]).optional(),id:L.string(),rpc_origins:L.array(L.string()).optional(),name:L.string()})}),Pi=L.object({participants:L.array(L.object({id:L.string(),username:L.string(),global_name:L.union([L.string(),L.null()]).optional(),discriminator:L.string(),avatar:L.union([L.string(),L.null()]).optional(),flags:L.number(),bot:L.boolean(),avatar_decoration_data:L.union([L.object({asset:L.string(),skuId:L.string().optional()}),L.null()]).optional(),premium_type:L.union([L.number(),L.null()]).optional(),nickname:L.string().optional()}))});var et;(function(t){t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(et||(et={}));const xa=L.object({}).optional().nullable(),Li=L.void(),Ui={[et.INITIATE_IMAGE_UPLOAD]:{request:Li,response:Da},[et.OPEN_SHARE_MOMENT_DIALOG]:{request:Ma,response:xa},[et.AUTHENTICATE]:{request:ka,response:xi},[et.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Li,response:Pi}},Pa="DISPATCH";var Z;(function(t){t.AUTHORIZE="AUTHORIZE",t.AUTHENTICATE="AUTHENTICATE",t.GET_GUILDS="GET_GUILDS",t.GET_GUILD="GET_GUILD",t.GET_CHANNEL="GET_CHANNEL",t.GET_CHANNELS="GET_CHANNELS",t.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",t.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",t.SUBSCRIBE="SUBSCRIBE",t.UNSUBSCRIBE="UNSUBSCRIBE",t.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",t.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",t.SET_ACTIVITY="SET_ACTIVITY",t.GET_SKUS="GET_SKUS",t.GET_ENTITLEMENTS="GET_ENTITLEMENTS",t.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",t.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",t.START_PURCHASE="START_PURCHASE",t.SET_CONFIG="SET_CONFIG",t.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",t.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",t.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",t.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",t.CAPTURE_LOG="CAPTURE_LOG",t.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",t.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",t.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",t.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(Z||(Z={}));const Yt=R({cmd:_(),data:bn(),evt:Kn(),nonce:_()}).passthrough(),La=Object.assign(Object.assign({},xi.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});we(La);const bt=R({id:_(),username:_(),discriminator:_(),global_name:_().optional().nullable(),avatar:_().optional().nullable(),avatar_decoration_data:R({asset:_(),sku_id:_().optional()}).nullable(),bot:q(),flags:G().optional().nullable(),premium_type:G().optional().nullable()}),Ur=R({user:bt,nick:_().optional().nullable(),roles:te(_()),joined_at:_(),deaf:q(),mute:q()}),Ua=R({user_id:_(),nick:_().optional().nullable(),guild_id:_(),avatar:_().optional().nullable(),avatar_decoration_data:R({asset:_(),sku_id:_().optional().nullable()}).optional().nullable(),color_string:_().optional().nullable()}),Br=R({id:_(),name:_().optional().nullable(),roles:te(_()).optional().nullable(),user:bt.optional().nullable(),require_colons:q().optional().nullable(),managed:q().optional().nullable(),animated:q().optional().nullable(),available:q().optional().nullable()}),Bi=R({mute:q(),deaf:q(),self_mute:q(),self_deaf:q(),suppress:q()}),Gi=R({mute:q(),nick:_(),user:bt,voice_state:Bi,volume:G()}),$n=we({UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"}),In=R({name:_(),type:G(),url:_().optional().nullable(),created_at:G().optional().nullable(),timestamps:R({start:G(),end:G()}).partial().optional().nullable(),application_id:_().optional().nullable(),details:_().optional().nullable(),state:_().optional().nullable(),emoji:Br.optional().nullable(),party:R({id:_().optional().nullable(),size:te(G()).optional().nullable()}).optional().nullable(),assets:R({large_image:_().nullable(),large_text:_().nullable(),small_image:_().nullable(),small_text:_().nullable()}).partial().optional().nullable(),secrets:R({join:_(),match:_()}).partial().optional().nullable(),instance:q().optional().nullable(),flags:G().optional().nullable()}),Ba={UNHANDLED:-1,ROLE:0,MEMBER:1},Ga=R({id:_(),type:we(Ba),allow:_(),deny:_()}),Zi={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},Vi=R({id:_(),type:we(Zi),guild_id:_().optional().nullable(),position:G().optional().nullable(),permission_overwrites:te(Ga).optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),nsfw:q().optional().nullable(),last_message_id:_().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),rate_limit_per_user:G().optional().nullable(),recipients:te(bt).optional().nullable(),icon:_().optional().nullable(),owner_id:_().optional().nullable(),application_id:_().optional().nullable(),parent_id:_().optional().nullable(),last_pin_timestamp:_().optional().nullable()}),Za=R({user:bt,guild_id:_(),status:$n,activities:te(In),client_status:R({desktop:$n,mobile:$n,web:$n}).partial()}),Va=R({id:_(),name:_(),color:G(),hoist:q(),position:G(),permissions:_(),managed:q(),mentionable:q()});R({id:_(),name:_(),owner_id:_(),icon:_().nullable(),icon_hash:_().optional().nullable(),splash:_().nullable(),discovery_splash:_().nullable(),owner:q().optional().nullable(),permissions:_().optional().nullable(),region:_(),afk_channel_id:_().nullable(),afk_timeout:G(),widget_enabled:q().optional().nullable(),widget_channel_id:_().optional().nullable(),verification_level:G(),default_message_notifications:G(),explicit_content_filter:G(),roles:te(Va),emojis:te(Br),features:te(_()),mfa_level:G(),application_id:_().nullable(),system_channel_id:_().nullable(),system_channel_flags:G(),rules_channel_id:_().nullable(),joined_at:_().optional().nullable(),large:q().optional().nullable(),unavailable:q().optional().nullable(),member_count:G().optional().nullable(),voice_states:te(Bi).optional().nullable(),members:te(Ur).optional().nullable(),channels:te(Vi).optional().nullable(),presences:te(Za).optional().nullable(),max_presences:G().optional().nullable(),max_members:G().optional().nullable(),vanity_url_code:_().nullable(),description:_().nullable(),banner:_().nullable(),premium_tier:G(),premium_subscription_count:G().optional().nullable(),preferred_locale:_(),public_updates_channel_id:_().nullable(),max_video_channel_users:G().optional().nullable(),approximate_member_count:G().optional().nullable(),approximate_presence_count:G().optional().nullable()});const Ha=R({id:_(),guild_id:_(),type:G(),name:_()}),Fa=R({id:_(),filename:_(),size:G(),url:_(),proxy_url:_(),height:G().optional().nullable(),width:G().optional().nullable()}),ja=R({text:_(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),Gr=R({url:_().optional().nullable(),proxy_url:_().optional().nullable(),height:G().optional().nullable(),width:G().optional().nullable()}),Ka=Gr.omit({proxy_url:!0}),Ca=R({name:_().optional().nullable(),url:_().optional().nullable()}),qa=R({name:_().optional().nullable(),url:_().optional().nullable(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),$a=R({name:_(),value:_(),inline:q()}),za=R({title:_().optional().nullable(),type:_().optional().nullable(),description:_().optional().nullable(),url:_().optional().nullable(),timestamp:_().optional().nullable(),color:G().optional().nullable(),footer:ja.optional().nullable(),image:Gr.optional().nullable(),thumbnail:Gr.optional().nullable(),video:Ka.optional().nullable(),provider:Ca.optional().nullable(),author:qa.optional().nullable(),fields:te($a).optional().nullable()}),Ya=R({count:G(),me:q(),emoji:Br}),Wa=R({type:G(),party_id:_().optional().nullable()}),Xa=R({id:_(),cover_image:_().optional().nullable(),description:_(),icon:_().optional().nullable(),name:_()}),Qa=R({message_id:_().optional().nullable(),channel_id:_().optional().nullable(),guild_id:_().optional().nullable()}),Ja=R({id:_(),channel_id:_(),guild_id:_().optional().nullable(),author:bt.optional().nullable(),member:Ur.optional().nullable(),content:_(),timestamp:_(),edited_timestamp:_().optional().nullable(),tts:q(),mention_everyone:q(),mentions:te(bt),mention_roles:te(_()),mention_channels:te(Ha),attachments:te(Fa),embeds:te(za),reactions:te(Ya).optional().nullable(),nonce:Dr([_(),G()]).optional().nullable(),pinned:q(),webhook_id:_().optional().nullable(),type:G(),activity:Wa.optional().nullable(),application:Xa.optional().nullable(),message_reference:Qa.optional().nullable(),flags:G().optional().nullable(),stickers:te(bn()).optional().nullable(),referenced_message:bn().optional().nullable()}),eo=R({id:_(),name:_()}),Hi=R({type:we({UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3}),code:G(),name:_()}),to=R({type:we({UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"}),auto_threshold:q(),threshold:G(),shortcut:te(Hi),delay:G()}),Fi=R({device_id:_(),volume:G(),available_devices:te(eo)});R({type:we({UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"}),id:_(),vendor:R({name:_(),url:_()}),model:R({name:_(),url:_()}),related:te(_()),echo_cancellation:q().optional().nullable(),noise_suppression:q().optional().nullable(),automatic_gain_control:q().optional().nullable(),hardware_mute:q().optional().nullable()});const no={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},ro=R({id:_(),name:_(),type:we(no),price:R({amount:G(),currency:_()}),application_id:_(),flags:G(),release_date:_().nullable()}),io={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},Zr=R({id:_(),sku_id:_(),application_id:_(),user_id:_(),gift_code_flags:G(),type:we(io),gifter_user_id:_().optional().nullable(),branches:te(_()).optional().nullable(),starts_at:_().optional().nullable(),ends_at:_().optional().nullable(),parent_id:_().optional().nullable(),consumed:q().optional().nullable(),deleted:q().optional().nullable(),gift_code_batch_id:_().optional().nullable()});we({UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3});const so=we({UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3}),ji={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};we(ji);const Ki={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};we(Ki);const Vr="ERROR";var ie;(function(t){t.READY="READY",t.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",t.SPEAKING_START="SPEAKING_START",t.SPEAKING_STOP="SPEAKING_STOP",t.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",t.ORIENTATION_UPDATE="ORIENTATION_UPDATE",t.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",t.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",t.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",t.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",t.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(ie||(ie={}));const Ue=Yt.extend({evt:zt(ie),nonce:_().nullable(),cmd:_e(Pa),data:R({}).passthrough()}),Ci=Yt.extend({evt:_e(Vr),data:R({code:G(),message:_().optional()}).passthrough(),cmd:zt(Z),nonce:_().nullable()}),ao=Ue.extend({evt:_()}),oo=Dr([Ue,ao,Ci]);function lo(t){const e=t.evt;if(!(e in ie))throw new Error(`Unrecognized event type ${t.evt}`);return uo[e].payload.parse(t)}const uo={[ie.READY]:{payload:Ue.extend({evt:_e(ie.READY),data:R({v:G(),config:R({cdn_host:_().optional(),api_endpoint:_(),environment:_()}),user:R({id:_(),username:_(),discriminator:_(),avatar:_().optional()}).optional()})})},[ie.VOICE_STATE_UPDATE]:{payload:Ue.extend({evt:_e(ie.VOICE_STATE_UPDATE),data:Gi}),subscribeArgs:R({channel_id:_()})},[ie.SPEAKING_START]:{payload:Ue.extend({evt:_e(ie.SPEAKING_START),data:R({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:R({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[ie.SPEAKING_STOP]:{payload:Ue.extend({evt:_e(ie.SPEAKING_STOP),data:R({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:R({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[ie.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:Ue.extend({evt:_e(ie.ACTIVITY_LAYOUT_MODE_UPDATE),data:R({layout_mode:we(Ki)})})},[ie.ORIENTATION_UPDATE]:{payload:Ue.extend({evt:_e(ie.ORIENTATION_UPDATE),data:R({screen_orientation:we(ji),orientation:zt(Lr)})})},[ie.CURRENT_USER_UPDATE]:{payload:Ue.extend({evt:_e(ie.CURRENT_USER_UPDATE),data:bt})},[ie.CURRENT_GUILD_MEMBER_UPDATE]:{payload:Ue.extend({evt:_e(ie.CURRENT_GUILD_MEMBER_UPDATE),data:Ua}),subscribeArgs:R({guild_id:_()})},[ie.ENTITLEMENT_CREATE]:{payload:Ue.extend({evt:_e(ie.ENTITLEMENT_CREATE),data:R({entitlement:Zr})})},[ie.THERMAL_STATE_UPDATE]:{payload:Ue.extend({evt:_e(ie.THERMAL_STATE_UPDATE),data:R({thermal_state:so})})},[ie.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:Ue.extend({evt:_e(ie.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:R({participants:Pi.shape.participants})})}};function co(t,e){throw e}const zn=R({}).nullable(),qi=R({code:_()}),fo=R({guilds:te(R({id:_(),name:_()}))}),ho=R({id:_(),name:_(),icon_url:_().optional(),members:te(Ur)}),Wt=R({id:_(),type:we(Zi),guild_id:_().optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),position:G().optional().nullable(),voice_states:te(Gi),messages:te(Ja)}),po=R({channels:te(Vi)});Wt.nullable();const go=Wt.nullable(),mo=Wt.nullable();R({input:Fi,output:Fi,mode:to,automatic_gain_control:q(),echo_cancellation:q(),noise_suppression:q(),qos:q(),silence_warning:q(),deaf:q(),mute:q()});const _o=R({evt:_()}),vo=R({shortcut:Hi}),$i=In,zi=R({skus:te(ro)}),Yi=R({entitlements:te(Zr)}),Wi=te(Zr).nullable(),Xi=R({use_interactive_pip:q()}),Qi=R({locale:_()}),Ji=R({enabled:q()}),es=R({permissions:Ti().or(_())}),ts=ki(R({opened:q().or(Kn())}).default({opened:null})),ns=R({iosKeyboardResizesView:Ai(q())}),Eo=Yt.extend({cmd:zt(Z),evt:Kn()});function yo({cmd:t,data:e}){switch(t){case Z.AUTHORIZE:return qi.parse(e);case Z.CAPTURE_SHORTCUT:return vo.parse(e);case Z.ENCOURAGE_HW_ACCELERATION:return Ji.parse(e);case Z.GET_CHANNEL:return Wt.parse(e);case Z.GET_CHANNELS:return po.parse(e);case Z.GET_CHANNEL_PERMISSIONS:return es.parse(e);case Z.GET_GUILD:return ho.parse(e);case Z.GET_GUILDS:return fo.parse(e);case Z.GET_PLATFORM_BEHAVIORS:return ns.parse(e);case Z.GET_CHANNEL:return Wt.parse(e);case Z.SELECT_TEXT_CHANNEL:return mo.parse(e);case Z.SELECT_VOICE_CHANNEL:return go.parse(e);case Z.SET_ACTIVITY:return $i.parse(e);case Z.GET_SKUS_EMBEDDED:return zi.parse(e);case Z.GET_ENTITLEMENTS_EMBEDDED:return Yi.parse(e);case Z.SET_CONFIG:return Xi.parse(e);case Z.START_PURCHASE:return Wi.parse(e);case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return _o.parse(e);case Z.USER_SETTINGS_GET_LOCALE:return Qi.parse(e);case Z.OPEN_EXTERNAL_LINK:return ts.parse(e);case Z.SET_ORIENTATION_LOCK_STATE:case Z.SET_CERTIFIED_DEVICES:case Z.SEND_ANALYTICS_EVENT:case Z.OPEN_INVITE_DIALOG:case Z.CAPTURE_LOG:case Z.GET_SKUS:case Z.GET_ENTITLEMENTS:return zn.parse(e);case Z.AUTHENTICATE:case Z.INITIATE_IMAGE_UPLOAD:case Z.OPEN_SHARE_MOMENT_DIALOG:case Z.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:n}=Ui[t];return n.parse(e);default:co(t,new Error(`Unrecognized command ${t}`))}}function To(t){return Object.assign(Object.assign({},t),{data:yo(t)})}R({frame_id:_(),platform:zt(st).optional().nullable()}),R({v:_e(1),encoding:_e("json").optional(),client_id:_(),frame_id:_()});const wo=R({code:G(),message:_().optional()}),Ao=R({evt:_().nullable(),nonce:_().nullable(),data:bn().nullable(),cmd:_()}).passthrough();function bo(t){const e=Ao.parse(t);return e.evt!=null?e.evt===Vr?Ci.parse(e):lo(oo.parse(e)):To(Eo.passthrough().parse(e))}function Me(t,e,n,r=()=>{}){const i=Yt.extend({cmd:_e(e),data:n});return async s=>{const u=await t({cmd:e,args:s,transfer:r(s)});return i.parse(u).data}}function Yn(t,e=()=>{}){const n=Ui[t].response,r=Yt.extend({cmd:_e(t),data:n});return i=>async s=>{const u=await i({cmd:t,args:s,transfer:e(s)});return r.parse(u).data}}const Io=Yn(et.AUTHENTICATE),No=t=>Me(t,Z.AUTHORIZE,qi),So=t=>Me(t,Z.CAPTURE_LOG,zn),Oo=t=>Me(t,Z.ENCOURAGE_HW_ACCELERATION,Ji),Ro=t=>Me(t,Z.GET_ENTITLEMENTS_EMBEDDED,Yi),Do=t=>Me(t,Z.GET_SKUS_EMBEDDED,zi),Mo=t=>Me(t,Z.GET_CHANNEL_PERMISSIONS,es),ko=t=>Me(t,Z.GET_PLATFORM_BEHAVIORS,ns),xo=t=>Me(t,Z.OPEN_EXTERNAL_LINK,ts),Po=t=>Me(t,Z.OPEN_INVITE_DIALOG,zn),Lo=Yn(et.OPEN_SHARE_MOMENT_DIALOG);In.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:In.shape.type.optional(),instance:In.shape.instance.optional()}).nullable();const Uo=t=>Me(t,Z.SET_ACTIVITY,$i),Bo=t=>Me(t,Z.SET_CONFIG,Xi);function Go({sendCommand:t,cmd:e,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const s=Yt.extend({cmd:_e(e),data:n});return async u=>{try{const c=await t({cmd:e,args:u,transfer:i(u)});return s.parse(c).data}catch(c){if(c.code===Pr.INVALID_PAYLOAD){const g=r(u),f=await t({cmd:e,args:g,transfer:i(g)});return s.parse(f).data}else throw c}}}const Zo=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state}),Vo=t=>Go({sendCommand:t,cmd:Z.SET_ORIENTATION_LOCK_STATE,response:zn,fallbackTransform:Zo}),Ho=t=>Me(t,Z.START_PURCHASE,Wi),Fo=t=>Me(t,Z.USER_SETTINGS_GET_LOCALE,Qi),jo=Yn(et.INITIATE_IMAGE_UPLOAD),Ko=t=>Me(t,Z.GET_CHANNEL,Wt),Co=Yn(et.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function qo(t){return{authenticate:Io(t),authorize:No(t),captureLog:So(t),encourageHardwareAcceleration:Oo(t),getChannel:Ko(t),getChannelPermissions:Mo(t),getEntitlements:Ro(t),getPlatformBehaviors:ko(t),getSkus:Do(t),openExternalLink:xo(t),openInviteDialog:Po(t),openShareMomentDialog:Lo(t),setActivity:Uo(t),setConfig:Bo(t),setOrientationLockState:Vo(t),startPurchase:Ho(t),userSettingsGetLocale:Fo(t),initiateImageUpload:jo(t),getInstanceConnectedParticipants:Co(t)}}class $o extends Error{constructor(e,n=""){super(n),this.code=e,this.message=n,this.name="Discord SDK Error"}}function zo(){return{disableConsoleLogOverride:!1}}const Yo=["log","warn","debug","info","error"];function Wo(t,e,n){const r=t[e],i=t;r&&(t[e]=function(){const s=[].slice.call(arguments),u=""+s.join(" ");n(e,u),r.apply(i,s)})}var Xo="1.7.0",Qo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rs={randomUUID:Qo},Wn,Jo=new Uint8Array(16);function el(){if(!Wn&&(Wn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wn(Jo)}for(var ye=[],Hr=0;Hr<256;++Hr)ye.push((Hr+256).toString(16).slice(1));function tl(t,e=0){return(ye[t[e+0]]+ye[t[e+1]]+ye[t[e+2]]+ye[t[e+3]]+"-"+ye[t[e+4]]+ye[t[e+5]]+"-"+ye[t[e+6]]+ye[t[e+7]]+"-"+ye[t[e+8]]+ye[t[e+9]]+"-"+ye[t[e+10]]+ye[t[e+11]]+ye[t[e+12]]+ye[t[e+13]]+ye[t[e+14]]+ye[t[e+15]]).toLowerCase()}function is(t,e,n){if(rs.randomUUID&&!e&&!t)return rs.randomUUID();t=t||{};var r=t.random||(t.rng||el)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tl(r)}var at;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.FRAME=1]="FRAME",t[t.CLOSE=2]="CLOSE",t[t.HELLO=3]="HELLO"})(at||(at={}));const nl=new Set(rl());function rl(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function il(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,document.referrer?document.referrer:"*"]}class sl{getTransfer(e){var n;switch(e.cmd){case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return;default:return(n=e.transfer)!==null&&n!==void 0?n:void 0}}constructor(e,n){if(this.sdkVersion=Xo,this.mobileAppVersion=null,this.source=null,this.sourceOrigin="",this.eventBus=new Os,this.pendingCommands=new Map,this.sendCommand=c=>{var g;if(this.source==null)throw new Error("Attempting to send message before initialization");const f=is();return(g=this.source)===null||g===void 0||g.postMessage([at.FRAME,Object.assign(Object.assign({},c),{nonce:f})],this.sourceOrigin,this.getTransfer(c)),new Promise((m,A)=>{this.pendingCommands.set(f,{resolve:m,reject:A})})},this.commands=qo(this.sendCommand),this.handleMessage=c=>{if(!nl.has(c.origin))return;const g=c.data;if(!Array.isArray(g))return;const[f,d]=g;switch(f){case at.HELLO:return;case at.CLOSE:return this.handleClose(d);case at.HANDSHAKE:return this.handleHandshake();case at.FRAME:return this.handleFrame(d);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=n??zo(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.platform=st.DESKTOP,this.guildId=null,this.channelId=null,this.locationId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const s=r.get("instance_id");if(!s)throw new Error("instance_id query param is not defined");this.instanceId=s;const u=r.get("platform");if(u){if(u!==st.DESKTOP&&u!==st.MOBILE)throw new Error(`Invalid query param "platform" of "${u}". Valid values are "${st.DESKTOP}" or "${st.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=u,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),this.locationId=r.get("location_id"),this.mobileAppVersion=r.get("mobile_app_version"),[this.source,this.sourceOrigin]=il(),this.addOnReadyListener(),this.handshake()}close(e,n){var r;window.removeEventListener("message",this.handleMessage);const i=is();(r=this.source)===null||r===void 0||r.postMessage([at.CLOSE,{code:e,message:n,nonce:i}],this.sourceOrigin)}async subscribe(e,n,...r){const[i]=r,s=this.eventBus.listenerCount(e),u=this.eventBus.on(e,n);return Object.values(ie).includes(e)&&e!==ie.READY&&s===0&&await this.sendCommand({cmd:Z.SUBSCRIBE,args:i,evt:e}),u}async unsubscribe(e,n,...r){const[i]=r;return e!==ie.READY&&this.eventBus.listenerCount(e)===1&&await this.sendCommand({cmd:Z.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,n)}async ready(){this.isReady||await new Promise(e=>{this.eventBus.once(ie.READY,e)})}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes("."))try{return parseInt(this.mobileAppVersion.split(".")[0])}catch{return Mi}return Mi}handshake(){var e;const n={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId},r=this.parseMajorMobileVersion();(this.platform===st.DESKTOP||r>=Ra)&&(n.sdk_version=this.sdkVersion),(e=this.source)===null||e===void 0||e.postMessage([at.HANDSHAKE,n],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ie.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(n,r)=>{this.commands.captureLog({level:n,message:r})};Yo.forEach(n=>{Wo(console,n,e)})}handleClose(e){wo.parse(e)}handleHandshake(){}handleFrame(e){var n,r;let i;try{i=bo(e)}catch(s){console.error("Failed to parse",e),console.error(s);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===Vr){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new $o(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",e);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}var Xt=1e9,al={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fs,ce=!0,Ze="[DecimalError] ",Mt=Ze+"Invalid argument: ",Fr=Ze+"Exponent out of range: ",Qt=Math.floor,kt=Math.pow,ol=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Be,ve=1e7,ue=7,ss=9007199254740991,Xn=Qt(ss/ue),P={};P.absoluteValue=P.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},P.comparedTo=P.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1},P.decimalPlaces=P.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ue;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n},P.dividedBy=P.div=function(t){return ot(this,new this.constructor(t))},P.dividedToIntegerBy=P.idiv=function(t){var e=this,n=e.constructor;return oe(ot(e,new n(t),0,1),n.precision)},P.equals=P.eq=function(t){return!this.cmp(t)},P.exponent=function(){return ge(this)},P.greaterThan=P.gt=function(t){return this.cmp(t)>0},P.greaterThanOrEqualTo=P.gte=function(t){return this.cmp(t)>=0},P.isInteger=P.isint=function(){return this.e>this.d.length-2},P.isNegative=P.isneg=function(){return this.s<0},P.isPositive=P.ispos=function(){return this.s>0},P.isZero=function(){return this.s===0},P.lessThan=P.lt=function(t){return this.cmp(t)<0},P.lessThanOrEqualTo=P.lte=function(t){return this.cmp(t)<1},P.logarithm=P.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Be))throw Error(Ze+"NaN");if(n.s<1)throw Error(Ze+(n.s?"NaN":"-Infinity"));return n.eq(Be)?new r(0):(ce=!1,e=ot(Nn(n,s),Nn(t,s),s),ce=!0,oe(e,i))},P.minus=P.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?us(e,t):as(e,(t.s=-t.s,t))},P.modulo=P.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ze+"NaN");return n.s?(ce=!1,e=ot(n,t,0,1).times(t),ce=!0,n.minus(e)):oe(new r(n),i)},P.naturalExponential=P.exp=function(){return os(this)},P.naturalLogarithm=P.ln=function(){return Nn(this)},P.negated=P.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},P.plus=P.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?as(e,t):us(e,(t.s=-t.s,t))},P.precision=P.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Mt+t);if(e=ge(i)+1,r=i.d.length-1,n=r*ue+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n},P.squareRoot=P.sqrt=function(){var t,e,n,r,i,s,u,c=this,g=c.constructor;if(c.s<1){if(!c.s)return new g(0);throw Error(Ze+"NaN")}for(t=ge(c),ce=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=nt(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Qt((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new g(e)):r=new g(i.toString()),n=g.precision,i=u=n+3;;)if(s=r,r=s.plus(ot(c,s,u+2)).times(.5),nt(s.d).slice(0,u)===(e=nt(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),i==u&&e=="4999"){if(oe(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;u+=4}return ce=!0,oe(r,n)},P.times=P.mul=function(t){var e,n,r,i,s,u,c,g,f,d=this,m=d.constructor,A=d.d,x=(t=new m(t)).d;if(!d.s||!t.s)return new m(0);for(t.s*=d.s,n=d.e+t.e,g=A.length,f=x.length,g<f&&(s=A,A=x,x=s,u=g,g=f,f=u),s=[],u=g+f,r=u;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,i=g+r;i>r;)c=s[i]+x[r]*A[i-r-1]+e,s[i--]=c%ve|0,e=c/ve|0;s[i]=(s[i]+e)%ve|0}for(;!s[--u];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,ce?oe(t,m.precision):t},P.toDecimalPlaces=P.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(tt(t,0,Xt),e===void 0?e=r.rounding:tt(e,0,8),oe(n,t+ge(n)+1,e))},P.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xt(r,!0):(tt(t,0,Xt),e===void 0?e=i.rounding:tt(e,0,8),r=oe(new i(r),t+1,e),n=xt(r,!0,t+1)),n},P.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?xt(i):(tt(t,0,Xt),e===void 0?e=s.rounding:tt(e,0,8),r=oe(new s(i),t+ge(i)+1,e),n=xt(r.abs(),!1,t+ge(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},P.toInteger=P.toint=function(){var t=this,e=t.constructor;return oe(new e(t),ge(t)+1,e.rounding)},P.toNumber=function(){return+this},P.toPower=P.pow=function(t){var e,n,r,i,s,u,c=this,g=c.constructor,f=12,d=+(t=new g(t));if(!t.s)return new g(Be);if(c=new g(c),!c.s){if(t.s<1)throw Error(Ze+"Infinity");return c}if(c.eq(Be))return c;if(r=g.precision,t.eq(Be))return oe(c,r);if(e=t.e,n=t.d.length-1,u=e>=n,s=c.s,u){if((n=d<0?-d:d)<=ss){for(i=new g(Be),e=Math.ceil(r/ue+4),ce=!1;n%2&&(i=i.times(c),cs(i.d,e)),n=Qt(n/2),n!==0;)c=c.times(c),cs(c.d,e);return ce=!0,t.s<0?new g(Be).div(i):oe(i,r)}}else if(s<0)throw Error(Ze+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,ce=!1,i=t.times(Nn(c,r+f)),ce=!0,i=os(i),i.s=s,i},P.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=ge(i),r=xt(i,n<=s.toExpNeg||n>=s.toExpPos)):(tt(t,1,Xt),e===void 0?e=s.rounding:tt(e,0,8),i=oe(new s(i),t,e),n=ge(i),r=xt(i,t<=n||n<=s.toExpNeg,t)),r},P.toSignificantDigits=P.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(tt(t,1,Xt),e===void 0?e=r.rounding:tt(e,0,8)),oe(new r(n),t,e)},P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ge(t),n=t.constructor;return xt(t,e<=n.toExpNeg||e>=n.toExpPos)};function as(t,e){var n,r,i,s,u,c,g,f,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ce?oe(e,m):e;if(g=t.d,f=e.d,u=t.e,i=e.e,g=g.slice(),s=u-i,s){for(s<0?(r=g,s=-s,c=f.length):(r=f,i=u,c=g.length),u=Math.ceil(m/ue),c=u>c?u+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=g.length,s=f.length,c-s<0&&(s=c,r=f,f=g,g=r),n=0;s;)n=(g[--s]=g[s]+f[s]+n)/ve|0,g[s]%=ve;for(n&&(g.unshift(n),++i),c=g.length;g[--c]==0;)g.pop();return e.d=g,e.e=i,ce?oe(e,m):e}function tt(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Mt+t)}function nt(t){var e,n,r,i=t.length-1,s="",u=t[0];if(i>0){for(s+=u,e=1;e<i;e++)r=t[e]+"",n=ue-r.length,n&&(s+=It(n)),s+=r;u=t[e],r=u+"",n=ue-r.length,n&&(s+=It(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return s+u}var ot=function(){function t(r,i){var s,u=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+u,r[c]=s%ve|0,u=s/ve|0;return u&&r.unshift(u),r}function e(r,i,s,u){var c,g;if(s!=u)g=s>u?1:-1;else for(c=g=0;c<s;c++)if(r[c]!=i[c]){g=r[c]>i[c]?1:-1;break}return g}function n(r,i,s){for(var u=0;s--;)r[s]-=u,u=r[s]<i[s]?1:0,r[s]=u*ve+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,u){var c,g,f,d,m,A,x,X,V,D,he,re,se,Se,me,Ve,Ae,Ge,$e=r.constructor,He=r.s==i.s?1:-1,Oe=r.d,le=i.d;if(!r.s)return new $e(r);if(!i.s)throw Error(Ze+"Division by zero");for(g=r.e-i.e,Ae=le.length,me=Oe.length,x=new $e(He),X=x.d=[],f=0;le[f]==(Oe[f]||0);)++f;if(le[f]>(Oe[f]||0)&&--g,s==null?re=s=$e.precision:u?re=s+(ge(r)-ge(i))+1:re=s,re<0)return new $e(0);if(re=re/ue+2|0,f=0,Ae==1)for(d=0,le=le[0],re++;(f<me||d)&&re--;f++)se=d*ve+(Oe[f]||0),X[f]=se/le|0,d=se%le|0;else{for(d=ve/(le[0]+1)|0,d>1&&(le=t(le,d),Oe=t(Oe,d),Ae=le.length,me=Oe.length),Se=Ae,V=Oe.slice(0,Ae),D=V.length;D<Ae;)V[D++]=0;Ge=le.slice(),Ge.unshift(0),Ve=le[0],le[1]>=ve/2&&++Ve;do d=0,c=e(le,V,Ae,D),c<0?(he=V[0],Ae!=D&&(he=he*ve+(V[1]||0)),d=he/Ve|0,d>1?(d>=ve&&(d=ve-1),m=t(le,d),A=m.length,D=V.length,c=e(m,V,A,D),c==1&&(d--,n(m,Ae<A?Ge:le,A))):(d==0&&(c=d=1),m=le.slice()),A=m.length,A<D&&m.unshift(0),n(V,m,D),c==-1&&(D=V.length,c=e(le,V,Ae,D),c<1&&(d++,n(V,Ae<D?Ge:le,D))),D=V.length):c===0&&(d++,V=[0]),X[f++]=d,c&&V[0]?V[D++]=Oe[Se]||0:(V=[Oe[Se]],D=1);while((Se++<me||V[0]!==void 0)&&re--)}return X[0]||X.shift(),x.e=g,oe(x,u?s+ge(x)+1:s)}}();function os(t,e){var n,r,i,s,u,c,g=0,f=0,d=t.constructor,m=d.precision;if(ge(t)>16)throw Error(Fr+ge(t));if(!t.s)return new d(Be);for(e==null?(ce=!1,c=m):c=e,u=new d(.03125);t.abs().gte(.1);)t=t.times(u),f+=5;for(r=Math.log(kt(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new d(Be),d.precision=c;;){if(i=oe(i.times(t),c),n=n.times(++g),u=s.plus(ot(i,n,c)),nt(u.d).slice(0,c)===nt(s.d).slice(0,c)){for(;f--;)s=oe(s.times(s),c);return d.precision=m,e==null?(ce=!0,oe(s,m)):s}s=u}}function ge(t){for(var e=t.e*ue,n=t.d[0];n>=10;n/=10)e++;return e}function jr(t,e,n){if(e>t.LN10.sd())throw ce=!0,n&&(t.precision=n),Error(Ze+"LN10 precision limit exceeded");return oe(new t(t.LN10),e)}function It(t){for(var e="";t--;)e+="0";return e}function Nn(t,e){var n,r,i,s,u,c,g,f,d,m=1,A=10,x=t,X=x.d,V=x.constructor,D=V.precision;if(x.s<1)throw Error(Ze+(x.s?"NaN":"-Infinity"));if(x.eq(Be))return new V(0);if(e==null?(ce=!1,f=D):f=e,x.eq(10))return e==null&&(ce=!0),jr(V,f);if(f+=A,V.precision=f,n=nt(X),r=n.charAt(0),s=ge(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=nt(x.d),r=n.charAt(0),m++;s=ge(x),r>1?(x=new V("0."+n),s++):x=new V(r+"."+n.slice(1))}else return g=jr(V,f+2,D).times(s+""),x=Nn(new V(r+"."+n.slice(1)),f-A).plus(g),V.precision=D,e==null?(ce=!0,oe(x,D)):x;for(c=u=x=ot(x.minus(Be),x.plus(Be),f),d=oe(x.times(x),f),i=3;;){if(u=oe(u.times(d),f),g=c.plus(ot(u,new V(i),f)),nt(g.d).slice(0,f)===nt(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(jr(V,f+2,D).times(s+""))),c=ot(c,new V(m),f),V.precision=D,e==null?(ce=!0,oe(c,D)):c;c=g,i+=2}}function ls(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Qt(n/ue),t.d=[],r=(n+1)%ue,n<0&&(r+=ue),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ue;r<i;)t.d.push(+e.slice(r,r+=ue));e=e.slice(r),r=ue-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ce&&(t.e>Xn||t.e<-Xn))throw Error(Fr+n)}else t.s=0,t.e=0,t.d=[0];return t}function oe(t,e,n){var r,i,s,u,c,g,f,d,m=t.d;for(u=1,s=m[0];s>=10;s/=10)u++;if(r=e-u,r<0)r+=ue,i=e,f=m[d=0];else{if(d=Math.ceil((r+1)/ue),s=m.length,d>=s)return t;for(f=s=m[d],u=1;s>=10;s/=10)u++;r%=ue,i=r-ue+u}if(n!==void 0&&(s=kt(10,u-i-1),c=f/s%10|0,g=e<0||m[d+1]!==void 0||f%s,g=n<4?(c||g)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||g||n==6&&(r>0?i>0?f/kt(10,u-i):0:m[d-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return g?(s=ge(t),m.length=1,e=e-s-1,m[0]=kt(10,(ue-e%ue)%ue),t.e=Qt(-e/ue)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=d,s=1,d--):(m.length=d+1,s=kt(10,ue-r),m[d]=i>0?(f/kt(10,u-i)%kt(10,i)|0)*s:0),g)for(;;)if(d==0){(m[0]+=s)==ve&&(m[0]=1,++t.e);break}else{if(m[d]+=s,m[d]!=ve)break;m[d--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(ce&&(t.e>Xn||t.e<-Xn))throw Error(Fr+ge(t));return t}function us(t,e){var n,r,i,s,u,c,g,f,d,m,A=t.constructor,x=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),ce?oe(e,x):e;if(g=t.d,m=e.d,r=e.e,f=t.e,g=g.slice(),u=f-r,u){for(d=u<0,d?(n=g,u=-u,c=m.length):(n=m,r=f,c=g.length),i=Math.max(Math.ceil(x/ue),c)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=g.length,c=m.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(g[i]!=m[i]){d=g[i]<m[i];break}u=0}for(d&&(n=g,g=m,m=n,e.s=-e.s),c=g.length,i=m.length-c;i>0;--i)g[c++]=0;for(i=m.length;i>u;){if(g[--i]<m[i]){for(s=i;s&&g[--s]===0;)g[s]=ve-1;--g[s],g[i]+=ve}g[i]-=m[i]}for(;g[--c]===0;)g.pop();for(;g[0]===0;g.shift())--r;return g[0]?(e.d=g,e.e=r,ce?oe(e,x):e):new A(0)}function xt(t,e,n){var r,i=ge(t),s=nt(t.d),u=s.length;return e?(n&&(r=n-u)>0?s=s.charAt(0)+"."+s.slice(1)+It(r):u>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+It(-i-1)+s,n&&(r=n-u)>0&&(s+=It(r))):i>=u?(s+=It(i+1-u),n&&(r=n-i-1)>0&&(s=s+"."+It(r))):((r=i+1)<u&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(s+="."),s+=It(r))),t.s<0?"-"+s:s}function cs(t,e){if(t.length>e)return t.length=e,!0}function ds(t){var e,n,r;function i(s){var u=this;if(!(u instanceof i))return new i(s);if(u.constructor=i,s instanceof i){u.s=s.s,u.e=s.e,u.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Mt+s);if(s>0)u.s=1;else if(s<0)s=-s,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(s===~~s&&s<1e7){u.e=0,u.d=[s];return}return ls(u,s.toString())}else if(typeof s!="string")throw Error(Mt+s);if(s.charCodeAt(0)===45?(s=s.slice(1),u.s=-1):u.s=1,ol.test(s))ls(u,s);else throw Error(Mt+s)}if(i.prototype=P,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ds,i.config=i.set=ll,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ll(t){if(!t||typeof t!="object")throw Error(Ze+"Object expected");var e,n,r,i=["precision",1,Xt,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Qt(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Mt+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Mt+n+": "+r);return this}var fs=ds(al);Be=new fs(1);var v;(function(t){t.AED="aed",t.AFN="afn",t.ALL="all",t.AMD="amd",t.ANG="ang",t.AOA="aoa",t.ARS="ars",t.AUD="aud",t.AWG="awg",t.AZN="azn",t.BAM="bam",t.BBD="bbd",t.BDT="bdt",t.BGN="bgn",t.BHD="bhd",t.BIF="bif",t.BMD="bmd",t.BND="bnd",t.BOB="bob",t.BOV="bov",t.BRL="brl",t.BSD="bsd",t.BTN="btn",t.BWP="bwp",t.BYN="byn",t.BYR="byr",t.BZD="bzd",t.CAD="cad",t.CDF="cdf",t.CHE="che",t.CHF="chf",t.CHW="chw",t.CLF="clf",t.CLP="clp",t.CNY="cny",t.COP="cop",t.COU="cou",t.CRC="crc",t.CUC="cuc",t.CUP="cup",t.CVE="cve",t.CZK="czk",t.DJF="djf",t.DKK="dkk",t.DOP="dop",t.DZD="dzd",t.EGP="egp",t.ERN="ern",t.ETB="etb",t.EUR="eur",t.FJD="fjd",t.FKP="fkp",t.GBP="gbp",t.GEL="gel",t.GHS="ghs",t.GIP="gip",t.GMD="gmd",t.GNF="gnf",t.GTQ="gtq",t.GYD="gyd",t.HKD="hkd",t.HNL="hnl",t.HRK="hrk",t.HTG="htg",t.HUF="huf",t.IDR="idr",t.ILS="ils",t.INR="inr",t.IQD="iqd",t.IRR="irr",t.ISK="isk",t.JMD="jmd",t.JOD="jod",t.JPY="jpy",t.KES="kes",t.KGS="kgs",t.KHR="khr",t.KMF="kmf",t.KPW="kpw",t.KRW="krw",t.KWD="kwd",t.KYD="kyd",t.KZT="kzt",t.LAK="lak",t.LBP="lbp",t.LKR="lkr",t.LRD="lrd",t.LSL="lsl",t.LTL="ltl",t.LVL="lvl",t.LYD="lyd",t.MAD="mad",t.MDL="mdl",t.MGA="mga",t.MKD="mkd",t.MMK="mmk",t.MNT="mnt",t.MOP="mop",t.MRO="mro",t.MUR="mur",t.MVR="mvr",t.MWK="mwk",t.MXN="mxn",t.MXV="mxv",t.MYR="myr",t.MZN="mzn",t.NAD="nad",t.NGN="ngn",t.NIO="nio",t.NOK="nok",t.NPR="npr",t.NZD="nzd",t.OMR="omr",t.PAB="pab",t.PEN="pen",t.PGK="pgk",t.PHP="php",t.PKR="pkr",t.PLN="pln",t.PYG="pyg",t.QAR="qar",t.RON="ron",t.RSD="rsd",t.RUB="rub",t.RWF="rwf",t.SAR="sar",t.SBD="sbd",t.SCR="scr",t.SDG="sdg",t.SEK="sek",t.SGD="sgd",t.SHP="shp",t.SLL="sll",t.SOS="sos",t.SRD="srd",t.SSP="ssp",t.STD="std",t.SVC="svc",t.SYP="syp",t.SZL="szl",t.THB="thb",t.TJS="tjs",t.TMT="tmt",t.TND="tnd",t.TOP="top",t.TRY="try",t.TTD="ttd",t.TWD="twd",t.TZS="tzs",t.UAH="uah",t.UGX="ugx",t.USD="usd",t.USN="usn",t.USS="uss",t.UYI="uyi",t.UYU="uyu",t.UZS="uzs",t.VEF="vef",t.VND="vnd",t.VUV="vuv",t.WST="wst",t.XAF="xaf",t.XAG="xag",t.XAU="xau",t.XBA="xba",t.XBB="xbb",t.XBC="xbc",t.XBD="xbd",t.XCD="xcd",t.XDR="xdr",t.XFU="xfu",t.XOF="xof",t.XPD="xpd",t.XPF="xpf",t.XPT="xpt",t.XSU="xsu",t.XTS="xts",t.XUA="xua",t.YER="yer",t.ZAR="zar",t.ZMW="zmw",t.ZWL="zwl"})(v||(v={})),v.AED+"",v.AFN+"",v.ALL+"",v.AMD+"",v.ANG+"",v.AOA+"",v.ARS+"",v.AUD+"",v.AWG+"",v.AZN+"",v.BAM+"",v.BBD+"",v.BDT+"",v.BGN+"",v.BHD+"",v.BIF+"",v.BMD+"",v.BND+"",v.BOB+"",v.BOV+"",v.BRL+"",v.BSD+"",v.BTN+"",v.BWP+"",v.BYR+"",v.BYN+"",v.BZD+"",v.CAD+"",v.CDF+"",v.CHE+"",v.CHF+"",v.CHW+"",v.CLF+"",v.CLP+"",v.CNY+"",v.COP+"",v.COU+"",v.CRC+"",v.CUC+"",v.CUP+"",v.CVE+"",v.CZK+"",v.DJF+"",v.DKK+"",v.DOP+"",v.DZD+"",v.EGP+"",v.ERN+"",v.ETB+"",v.EUR+"",v.FJD+"",v.FKP+"",v.GBP+"",v.GEL+"",v.GHS+"",v.GIP+"",v.GMD+"",v.GNF+"",v.GTQ+"",v.GYD+"",v.HKD+"",v.HNL+"",v.HRK+"",v.HTG+"",v.HUF+"",v.IDR+"",v.ILS+"",v.INR+"",v.IQD+"",v.IRR+"",v.ISK+"",v.JMD+"",v.JOD+"",v.JPY+"",v.KES+"",v.KGS+"",v.KHR+"",v.KMF+"",v.KPW+"",v.KRW+"",v.KWD+"",v.KYD+"",v.KZT+"",v.LAK+"",v.LBP+"",v.LKR+"",v.LRD+"",v.LSL+"",v.LTL+"",v.LVL+"",v.LYD+"",v.MAD+"",v.MDL+"",v.MGA+"",v.MKD+"",v.MMK+"",v.MNT+"",v.MOP+"",v.MRO+"",v.MUR+"",v.MVR+"",v.MWK+"",v.MXN+"",v.MXV+"",v.MYR+"",v.MZN+"",v.NAD+"",v.NGN+"",v.NIO+"",v.NOK+"",v.NPR+"",v.NZD+"",v.OMR+"",v.PAB+"",v.PEN+"",v.PGK+"",v.PHP+"",v.PKR+"",v.PLN+"",v.PYG+"",v.QAR+"",v.RON+"",v.RSD+"",v.RUB+"",v.RWF+"",v.SAR+"",v.SBD+"",v.SCR+"",v.SDG+"",v.SEK+"",v.SGD+"",v.SHP+"",v.SLL+"",v.SOS+"",v.SRD+"",v.SSP+"",v.STD+"",v.SVC+"",v.SYP+"",v.SZL+"",v.THB+"",v.TJS+"",v.TMT+"",v.TND+"",v.TOP+"",v.TRY+"",v.TTD+"",v.TWD+"",v.TZS+"",v.UAH+"",v.UGX+"",v.USD+"",v.USN+"",v.USS+"",v.UYI+"",v.UYU+"",v.UZS+"",v.VEF+"",v.VND+"",v.VUV+"",v.WST+"",v.XAF+"",v.XAG+"",v.XAU+"",v.XBA+"",v.XBB+"",v.XBC+"",v.XBD+"",v.XCD+"",v.XDR+"",v.XFU+"",v.XOF+"",v.XPD+"",v.XPF+"",v.XPT+"",v.XSU+"",v.XTS+"",v.XUA+"",v.YER+"",v.ZAR+"",v.ZMW+"",v.ZWL+"";var Sn={exports:{}};Sn.exports;var hs;function ul(){return hs||(hs=1,function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",s=1,u=2,c=1/0,g=9007199254740991,f="[object Arguments]",d="[object Array]",m="[object Boolean]",A="[object Date]",x="[object Error]",X="[object Function]",V="[object GeneratorFunction]",D="[object Map]",he="[object Number]",re="[object Object]",se="[object Promise]",Se="[object RegExp]",me="[object Set]",Ve="[object String]",Ae="[object Symbol]",Ge="[object WeakMap]",$e="[object ArrayBuffer]",He="[object DataView]",Oe="[object Float32Array]",le="[object Float64Array]",Cr="[object Int8Array]",Jn="[object Int16Array]",er="[object Int32Array]",qr="[object Uint8Array]",$r="[object Uint8ClampedArray]",tr="[object Uint16Array]",lt="[object Uint32Array]",ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nr=/^\w*$/,On=/^\./,ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,ct=/\\(\\)?/g,rr=/^\[object .+?Constructor\]$/,Rn=/^(?:0|[1-9]\d*)$/,ae={};ae[Oe]=ae[le]=ae[Cr]=ae[Jn]=ae[er]=ae[qr]=ae[$r]=ae[tr]=ae[lt]=!0,ae[f]=ae[d]=ae[$e]=ae[m]=ae[He]=ae[A]=ae[x]=ae[X]=ae[D]=ae[he]=ae[re]=ae[Se]=ae[me]=ae[Ve]=ae[Ge]=!1;var ir=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,nn=typeof self=="object"&&self&&self.Object===Object&&self,Ye=ir||nn||Function("return this")(),Dn=e&&!e.nodeType&&e,rn=Dn&&!0&&t&&!t.nodeType&&t,sr=rn&&rn.exports===Dn,ar=sr&&ir.process,or=function(){try{return ar&&ar.binding("util")}catch{}}(),lr=or&&or.isTypedArray;function ur(o,h){for(var w=-1,O=o?o.length:0;++w<O&&h(o[w],w,o)!==!1;);return o}function zr(o,h){for(var w=-1,O=o?o.length:0;++w<O;)if(h(o[w],w,o))return!0;return!1}function Ut(o){return function(h){return h==null?void 0:h[o]}}function cr(o,h){for(var w=-1,O=Array(o);++w<o;)O[w]=h(w);return O}function dr(o){return function(h){return o(h)}}function Yr(o,h){return o==null?void 0:o[h]}function F(o){var h=!1;if(o!=null&&typeof o.toString!="function")try{h=!!(o+"")}catch{}return h}function dt(o){var h=-1,w=Array(o.size);return o.forEach(function(O,z){w[++h]=[z,O]}),w}function a(o,h){return function(w){return o(h(w))}}function l(o){var h=-1,w=Array(o.size);return o.forEach(function(O){w[++h]=O}),w}var p=Array.prototype,E=Function.prototype,T=Object.prototype,y=Ye["__core-js_shared__"],b=function(){var o=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),I=E.toString,N=T.hasOwnProperty,H=T.toString,J=RegExp("^"+I.call(N).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=Ye.Symbol,ne=Ye.Uint8Array,Re=a(Object.getPrototypeOf,Object),be=Object.create,Mn=T.propertyIsEnumerable,kn=p.splice,cl=a(Object.keys,Object),Wr=sn(Ye,"DataView"),xn=sn(Ye,"Map"),Xr=sn(Ye,"Promise"),Qr=sn(Ye,"Set"),Jr=sn(Ye,"WeakMap"),Pn=sn(Object,"create"),dl=Gt(Wr),fl=Gt(xn),hl=Gt(Xr),pl=Gt(Qr),gl=Gt(Jr),fr=$?$.prototype:void 0,ei=fr?fr.valueOf:void 0,ps=fr?fr.toString:void 0;function Bt(o){var h=-1,w=o?o.length:0;for(this.clear();++h<w;){var O=o[h];this.set(O[0],O[1])}}function ml(){this.__data__=Pn?Pn(null):{}}function _l(o){return this.has(o)&&delete this.__data__[o]}function vl(o){var h=this.__data__;if(Pn){var w=h[o];return w===i?void 0:w}return N.call(h,o)?h[o]:void 0}function El(o){var h=this.__data__;return Pn?h[o]!==void 0:N.call(h,o)}function yl(o,h){var w=this.__data__;return w[o]=Pn&&h===void 0?i:h,this}Bt.prototype.clear=ml,Bt.prototype.delete=_l,Bt.prototype.get=vl,Bt.prototype.has=El,Bt.prototype.set=yl;function ft(o){var h=-1,w=o?o.length:0;for(this.clear();++h<w;){var O=o[h];this.set(O[0],O[1])}}function Tl(){this.__data__=[]}function wl(o){var h=this.__data__,w=pr(h,o);if(w<0)return!1;var O=h.length-1;return w==O?h.pop():kn.call(h,w,1),!0}function Al(o){var h=this.__data__,w=pr(h,o);return w<0?void 0:h[w][1]}function bl(o){return pr(this.__data__,o)>-1}function Il(o,h){var w=this.__data__,O=pr(w,o);return O<0?w.push([o,h]):w[O][1]=h,this}ft.prototype.clear=Tl,ft.prototype.delete=wl,ft.prototype.get=Al,ft.prototype.has=bl,ft.prototype.set=Il;function ht(o){var h=-1,w=o?o.length:0;for(this.clear();++h<w;){var O=o[h];this.set(O[0],O[1])}}function Nl(){this.__data__={hash:new Bt,map:new(xn||ft),string:new Bt}}function Sl(o){return gr(this,o).delete(o)}function Ol(o){return gr(this,o).get(o)}function Rl(o){return gr(this,o).has(o)}function Dl(o,h){return gr(this,o).set(o,h),this}ht.prototype.clear=Nl,ht.prototype.delete=Sl,ht.prototype.get=Ol,ht.prototype.has=Rl,ht.prototype.set=Dl;function hr(o){var h=-1,w=o?o.length:0;for(this.__data__=new ht;++h<w;)this.add(o[h])}function Ml(o){return this.__data__.set(o,i),this}function kl(o){return this.__data__.has(o)}hr.prototype.add=hr.prototype.push=Ml,hr.prototype.has=kl;function pt(o){this.__data__=new ft(o)}function xl(){this.__data__=new ft}function Pl(o){return this.__data__.delete(o)}function Ll(o){return this.__data__.get(o)}function Ul(o){return this.__data__.has(o)}function Bl(o,h){var w=this.__data__;if(w instanceof ft){var O=w.__data__;if(!xn||O.length<n-1)return O.push([o,h]),this;w=this.__data__=new ht(O)}return w.set(o,h),this}pt.prototype.clear=xl,pt.prototype.delete=Pl,pt.prototype.get=Ll,pt.prototype.has=Ul,pt.prototype.set=Bl;function Gl(o,h){var w=gt(o)||ws(o)?cr(o.length,String):[],O=w.length,z=!!O;for(var U in o)N.call(o,U)&&!(z&&(U=="length"||vs(U,O)))&&w.push(U);return w}function pr(o,h){for(var w=o.length;w--;)if(Ts(o[w][0],h))return w;return-1}function Zl(o){return an(o)?be(o):{}}var Vl=eu();function Hl(o,h){return o&&Vl(o,h,Er)}function gs(o,h){h=mr(h,o)?[h]:ms(h);for(var w=0,O=h.length;o!=null&&w<O;)o=o[_r(h[w++])];return w&&w==O?o:void 0}function Fl(o){return H.call(o)}function jl(o,h){return o!=null&&h in Object(o)}function ti(o,h,w,O,z){return o===h?!0:o==null||h==null||!an(o)&&!vr(h)?o!==o&&h!==h:Kl(o,h,ti,w,O,z)}function Kl(o,h,w,O,z,U){var Q=gt(o),pe=gt(h),fe=d,Ie=d;Q||(fe=Nt(o),fe=fe==f?re:fe),pe||(Ie=Nt(h),Ie=Ie==f?re:Ie);var ke=fe==re&&!F(o),xe=Ie==re&&!F(h),De=fe==Ie;if(De&&!ke)return U||(U=new pt),Q||bs(o)?_s(o,h,w,O,z,U):tu(o,h,fe,w,O,z,U);if(!(z&u)){var Fe=ke&&N.call(o,"__wrapped__"),je=xe&&N.call(h,"__wrapped__");if(Fe||je){var St=Fe?o.value():o,mt=je?h.value():h;return U||(U=new pt),w(St,mt,O,z,U)}}return De?(U||(U=new pt),nu(o,h,w,O,z,U)):!1}function Cl(o,h,w,O){var z=w.length,U=z;if(o==null)return!U;for(o=Object(o);z--;){var Q=w[z];if(Q[2]?Q[1]!==o[Q[0]]:!(Q[0]in o))return!1}for(;++z<U;){Q=w[z];var pe=Q[0],fe=o[pe],Ie=Q[1];if(Q[2]){if(fe===void 0&&!(pe in o))return!1}else{var ke=new pt,xe;if(!(xe===void 0?ti(Ie,fe,O,s|u,ke):xe))return!1}}return!0}function ql(o){if(!an(o)||au(o))return!1;var h=ri(o)||F(o)?J:rr;return h.test(Gt(o))}function $l(o){return vr(o)&&ii(o.length)&&!!ae[H.call(o)]}function zl(o){return typeof o=="function"?o:o==null?pu:typeof o=="object"?gt(o)?Xl(o[0],o[1]):Wl(o):gu(o)}function Yl(o){if(!ou(o))return cl(o);var h=[];for(var w in Object(o))N.call(o,w)&&w!="constructor"&&h.push(w);return h}function Wl(o){var h=ru(o);return h.length==1&&h[0][2]?ys(h[0][0],h[0][1]):function(w){return w===o||Cl(w,o,h)}}function Xl(o,h){return mr(o)&&Es(h)?ys(_r(o),h):function(w){var O=du(w,o);return O===void 0&&O===h?fu(w,o):ti(h,O,void 0,s|u)}}function Ql(o){return function(h){return gs(h,o)}}function Jl(o){if(typeof o=="string")return o;if(si(o))return ps?ps.call(o):"";var h=o+"";return h=="0"&&1/o==-c?"-0":h}function ms(o){return gt(o)?o:lu(o)}function eu(o){return function(h,w,O){for(var z=-1,U=Object(h),Q=O(h),pe=Q.length;pe--;){var fe=Q[++z];if(w(U[fe],fe,U)===!1)break}return h}}function _s(o,h,w,O,z,U){var Q=z&u,pe=o.length,fe=h.length;if(pe!=fe&&!(Q&&fe>pe))return!1;var Ie=U.get(o);if(Ie&&U.get(h))return Ie==h;var ke=-1,xe=!0,De=z&s?new hr:void 0;for(U.set(o,h),U.set(h,o);++ke<pe;){var Fe=o[ke],je=h[ke];if(O)var St=Q?O(je,Fe,ke,h,o,U):O(Fe,je,ke,o,h,U);if(St!==void 0){if(St)continue;xe=!1;break}if(De){if(!zr(h,function(mt,Zt){if(!De.has(Zt)&&(Fe===mt||w(Fe,mt,O,z,U)))return De.add(Zt)})){xe=!1;break}}else if(!(Fe===je||w(Fe,je,O,z,U))){xe=!1;break}}return U.delete(o),U.delete(h),xe}function tu(o,h,w,O,z,U,Q){switch(w){case He:if(o.byteLength!=h.byteLength||o.byteOffset!=h.byteOffset)return!1;o=o.buffer,h=h.buffer;case $e:return!(o.byteLength!=h.byteLength||!O(new ne(o),new ne(h)));case m:case A:case he:return Ts(+o,+h);case x:return o.name==h.name&&o.message==h.message;case Se:case Ve:return o==h+"";case D:var pe=dt;case me:var fe=U&u;if(pe||(pe=l),o.size!=h.size&&!fe)return!1;var Ie=Q.get(o);if(Ie)return Ie==h;U|=s,Q.set(o,h);var ke=_s(pe(o),pe(h),O,z,U,Q);return Q.delete(o),ke;case Ae:if(ei)return ei.call(o)==ei.call(h)}return!1}function nu(o,h,w,O,z,U){var Q=z&u,pe=Er(o),fe=pe.length,Ie=Er(h),ke=Ie.length;if(fe!=ke&&!Q)return!1;for(var xe=fe;xe--;){var De=pe[xe];if(!(Q?De in h:N.call(h,De)))return!1}var Fe=U.get(o);if(Fe&&U.get(h))return Fe==h;var je=!0;U.set(o,h),U.set(h,o);for(var St=Q;++xe<fe;){De=pe[xe];var mt=o[De],Zt=h[De];if(O)var Is=Q?O(Zt,mt,De,h,o,U):O(mt,Zt,De,o,h,U);if(!(Is===void 0?mt===Zt||w(mt,Zt,O,z,U):Is)){je=!1;break}St||(St=De=="constructor")}if(je&&!St){var yr=o.constructor,Tr=h.constructor;yr!=Tr&&"constructor"in o&&"constructor"in h&&!(typeof yr=="function"&&yr instanceof yr&&typeof Tr=="function"&&Tr instanceof Tr)&&(je=!1)}return U.delete(o),U.delete(h),je}function gr(o,h){var w=o.__data__;return su(h)?w[typeof h=="string"?"string":"hash"]:w.map}function ru(o){for(var h=Er(o),w=h.length;w--;){var O=h[w],z=o[O];h[w]=[O,z,Es(z)]}return h}function sn(o,h){var w=Yr(o,h);return ql(w)?w:void 0}var Nt=Fl;(Wr&&Nt(new Wr(new ArrayBuffer(1)))!=He||xn&&Nt(new xn)!=D||Xr&&Nt(Xr.resolve())!=se||Qr&&Nt(new Qr)!=me||Jr&&Nt(new Jr)!=Ge)&&(Nt=function(o){var h=H.call(o),w=h==re?o.constructor:void 0,O=w?Gt(w):void 0;if(O)switch(O){case dl:return He;case fl:return D;case hl:return se;case pl:return me;case gl:return Ge}return h});function iu(o,h,w){h=mr(h,o)?[h]:ms(h);for(var O,z=-1,Q=h.length;++z<Q;){var U=_r(h[z]);if(!(O=o!=null&&w(o,U)))break;o=o[U]}if(O)return O;var Q=o?o.length:0;return!!Q&&ii(Q)&&vs(U,Q)&&(gt(o)||ws(o))}function vs(o,h){return h=h??g,!!h&&(typeof o=="number"||Rn.test(o))&&o>-1&&o%1==0&&o<h}function mr(o,h){if(gt(o))return!1;var w=typeof o;return w=="number"||w=="symbol"||w=="boolean"||o==null||si(o)?!0:nr.test(o)||!ut.test(o)||h!=null&&o in Object(h)}function su(o){var h=typeof o;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?o!=="__proto__":o===null}function au(o){return!!b&&b in o}function ou(o){var h=o&&o.constructor,w=typeof h=="function"&&h.prototype||T;return o===w}function Es(o){return o===o&&!an(o)}function ys(o,h){return function(w){return w==null?!1:w[o]===h&&(h!==void 0||o in Object(w))}}var lu=ni(function(o){o=cu(o);var h=[];return On.test(o)&&h.push(""),o.replace(ze,function(w,O,z,U){h.push(z?U.replace(ct,"$1"):O||w)}),h});function _r(o){if(typeof o=="string"||si(o))return o;var h=o+"";return h=="0"&&1/o==-c?"-0":h}function Gt(o){if(o!=null){try{return I.call(o)}catch{}try{return o+""}catch{}}return""}function ni(o,h){if(typeof o!="function"||h&&typeof h!="function")throw new TypeError(r);var w=function(){var O=arguments,z=h?h.apply(this,O):O[0],U=w.cache;if(U.has(z))return U.get(z);var Q=o.apply(this,O);return w.cache=U.set(z,Q),Q};return w.cache=new(ni.Cache||ht),w}ni.Cache=ht;function Ts(o,h){return o===h||o!==o&&h!==h}function ws(o){return uu(o)&&N.call(o,"callee")&&(!Mn.call(o,"callee")||H.call(o)==f)}var gt=Array.isArray;function As(o){return o!=null&&ii(o.length)&&!ri(o)}function uu(o){return vr(o)&&As(o)}function ri(o){var h=an(o)?H.call(o):"";return h==X||h==V}function ii(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=g}function an(o){var h=typeof o;return!!o&&(h=="object"||h=="function")}function vr(o){return!!o&&typeof o=="object"}function si(o){return typeof o=="symbol"||vr(o)&&H.call(o)==Ae}var bs=lr?dr(lr):$l;function cu(o){return o==null?"":Jl(o)}function du(o,h,w){var O=o==null?void 0:gs(o,h);return O===void 0?w:O}function fu(o,h){return o!=null&&iu(o,h,jl)}function Er(o){return As(o)?Gl(o):Yl(o)}function hu(o,h,w){var O=gt(o)||bs(o);if(h=zl(h),w==null)if(O||an(o)){var z=o.constructor;O?w=gt(o)?new z:[]:w=ri(z)?Zl(Re(o)):{}}else w={};return(O?ur:Hl)(o,function(U,Q,pe){return h(w,U,Q,pe)}),w}function pu(o){return o}function gu(o){return mr(o)?Ut(_r(o)):Ql(o)}t.exports=hu}(Sn,Sn.exports)),Sn.exports}ul(),typeof SuppressedError=="function"&&SuppressedError;var Jt=(t=>(t[t.None=0]="None",t[t.Initializing=1]="Initializing",t[t.WaitingForServer=2]="WaitingForServer",t[t.Connected=4]="Connected",t[t.Disconnected=8]="Disconnected",t[t.Error=16]="Error",t[t.Reconnecting=32]="Reconnecting",t[t.Listening=64]="Listening",t[t.Paused=128]="Paused",t[t.Closing=256]="Closing",t[t.Retrying=512]="Retrying",t[t.Suspended=1024]="Suspended",t[t.Authenticated=2048]="Authenticated",t[t.Unsubscribed=4096]="Unsubscribed",t[t.PendingData=8192]="PendingData",t[t.Timeout=16384]="Timeout",t[t.ReceivingHandshake=32768]="ReceivingHandshake",t[t.HeartbeatFailure=65536]="HeartbeatFailure",t[t.Resuming=131072]="Resuming",t[t.RateLimited=262144]="RateLimited",t[t.Buffered=524288]="Buffered",t[t.WaitingForReconnect=1048576]="WaitingForReconnect",t[t.SendingData=2097152]="SendingData",t[t.ReceivingData=4194304]="ReceivingData",t[t.Overloaded=8388608]="Overloaded",t[t.Validating=16777216]="Validating",t[t.Queued=33554432]="Queued",t[t.Syncing=67108864]="Syncing",t[t.Expired=134217728]="Expired",t[t.Degraded=268435456]="Degraded",t[t.ShuttingDown=536870912]="ShuttingDown",t[t.MaintenanceMode=1073741824]="MaintenanceMode",t[t.CriticalFailure=-2147483648]="CriticalFailure",t))(Jt||{}),Qn=(t=>(t[t.None=0]="None",t[t.Text=1]="Text",t[t.JSON=2]="JSON",t[t.Binary=4]="Binary",t[t.Command=8]="Command",t[t.Event=16]="Event",t[t.Error=32]="Error",t[t.Notification=64]="Notification",t[t.Authentication=128]="Authentication",t[t.Configuration=256]="Configuration",t[t.Sync=512]="Sync",t[t.Heartbeat=1024]="Heartbeat",t[t.Purge=2048]="Purge",t))(Qn||{});const Pt=class Pt{constructor(e){this.discordSdk=null,this.user=null,this.state=Jt.None,this.helper=e}static getInstance(e){return Pt.instance||(Pt.instance=new Pt(e)),Pt.instance}async initialize(e){if(this.discordSdk){console.warn("DiscordSDK is already initialized.");return}try{this.state=Jt.Initializing,this.discordSdk=new sl(e.clientId),await this.discordSdk.ready(),this.state=Jt.Connected;const{code:n}=await this.discordSdk.commands.authorize({client_id:e.clientId,response_type:"code",state:"",prompt:"none",scope:e.scope}),i=await(await fetch(e.tokenRoute,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:n})})).json();if(!i.access_token)throw new Error("No access_token field found in response.");const{user:s}=await this.discordSdk.commands.authenticate({access_token:i.access_token});this.user=s,this.state=Jt.Authenticated}catch(n){throw this.state=Jt.Error,console.error("Error initializing DiscordSDK:",n),n}}getSdk(){if(!this.discordSdk)throw new Error("DiscordSDK is not initialized. Call initialize() first.");return this.discordSdk}getUser(){return this.user}getState(){return this.state}sendMessage(e){if(!this.discordSdk)throw new Error("DiscordSDK is not initialized. Call initialize() first.");switch(console.log("Sending message:",e),e.type){case Qn.Command:this.processCommandMessage(e);break;case Qn.Notification:this.processNotificationMessage(e);break;default:console.warn("Unhandled message type:",e.type)}}processCommandMessage(e){console.log("Processing command:",e.payload.command)}processNotificationMessage(e){console.log("Notification received:",e.payload.message)}};Pt.instance=null;let Kr=Pt;class en{constructor(e,n){this.discordSdkManager=null,this.commandMap=new Map,this.logs=new Map,this.discordSdkManager=e,this.helper=n,this.initializeCommandMap()}static getInstance(e,n){return en.instance||(en.instance=new en(e,n)),en.instance}get discordSdk(){var e;return((e=this.discordSdkManager)==null?void 0:e.getSdk())||null}getLogs(){return Array.from(this.logs.values())}purgeLogs(){this.logs.clear()}initializeCommandMap(){this.commandMap.set("SUBSCRIBE",this.subscribe.bind(this)),this.commandMap.set("UNSUBSCRIBE",this.unsubscribe.bind(this)),this.commandMap.set("SET_ACTIVITY",this.setActivity.bind(this)),this.commandMap.set("PING_LOAD",this.pingLoad.bind(this)),this.commandMap.set("GET_INSTANCE_ID",this.getInstanceId.bind(this)),this.commandMap.set("GET_CHANNEL_ID",this.getChannelId.bind(this)),this.commandMap.set("GET_GUILD_ID",this.getGuildId.bind(this)),this.commandMap.set("GET_USER_ID",this.getUserId.bind(this)),this.commandMap.set("GET_USER",this.getUser.bind(this)),this.commandMap.set("GET_INSTANCE_PARTICIPANTS",this.getInstanceParticipants.bind(this)),this.commandMap.set("HARDWARE_ACCELERATION",this.hardwareAcceleration.bind(this)),this.commandMap.set("GET_CHANNEL",this.getChannel.bind(this)),this.commandMap.set("GET_CHANNEL_PERMISSIONS",this.getChannelPermissions.bind(this)),this.commandMap.set("GET_ENTITLEMENTS",this.getEntitlements.bind(this)),this.commandMap.set("GET_PLATFORM_BEHAVIORS",this.getPlatformBehaviors.bind(this)),this.commandMap.set("GET_SKUS",this.getSkus.bind(this)),this.commandMap.set("IMAGE_UPLOAD",this.imageUpload.bind(this)),this.commandMap.set("EXTERNAL_LINK",this.externalLink.bind(this)),this.commandMap.set("INVITE_DIALOG",this.inviteDialog.bind(this)),this.commandMap.set("SHARE_MOMENT_DIALOG",this.shareMomentDialog.bind(this)),this.commandMap.set("SET_ORIENTATION_LOCK_STATE",this.setOrientationLockState.bind(this)),this.commandMap.set("START_PURCHASE",this.startPurchase.bind(this)),this.commandMap.set("GET_LOCALE",this.getLocale.bind(this)),this.commandMap.set("SET_CONFIG",this.setConfig.bind(this))}async handleMessage(e){if(!this.discordSdk)throw new Error("DiscordSDK is not initialized in MessageHandler.");const{command:n,args:r}=e,i=this.commandMap.get(String(n));if(!i){this.log("warn",`Unhandled command: ${e.command}`);return}try{await i(r,e)}catch{throw new Error("[Message Handler] handleMessage error")}}validateSdkInitialized(){if(!this.discordSdk)throw new Error("DiscordSDK is not initialized.")}async subscribe(e,{event:n}){var r,i;if(this.validateSdkInitialized(),!n)throw new Error("SUBSCRIBE event is undefined.");e!=null&&e.channel_id&&(e={channel_id:(r=this.discordSdk)==null?void 0:r.channelId},this.log("info",`Overriding channel_id with current channel ID: ${e.channel_id}`));try{await((i=this.discordSdk)==null?void 0:i.subscribe(n,this.handleEvent.bind(this),e)),this.log("info",`Subscribed to event '${n}'`)}catch(s){this.logAndRethrowError("Failed to subscribe to event",s)}}async unsubscribe(e,{event:n}){var r,i;if(this.validateSdkInitialized(),!n)throw new Error("UNSUBSCRIBE event is undefined.");e!=null&&e.channel_id&&(e={channel_id:(r=this.discordSdk)==null?void 0:r.channelId},this.log("info",`Overriding channel_id with current channel ID: ${e.channel_id}`));try{await((i=this.discordSdk)==null?void 0:i.unsubscribe(n,this.handleEvent.bind(this))),this.log("info",`Unsubscribed from event '${n}'`)}catch(s){this.logAndRethrowError("Failed to unsubscribe from event",s)}}async setActivity(e){var r;if(this.validateSdkInitialized(),!(e!=null&&e.activity))throw this.log("error","No activity provided for SET_ACTIVITY."),new Error("No activity provided for SET_ACTIVITY.");const n=[{field:"assets",key:"large_image"},{field:"party",key:"id"},{field:"emoji",key:"id"},{field:"secrets",key:"match"}];e.activity=this.helper.sanitizeFields(e.activity,n);try{const i=await((r=this.discordSdk)==null?void 0:r.commands.setActivity(e));this.log("info","Activity set successfully",{data:i})}catch(i){this.logAndRethrowError("Failed to set activity",i)}}async pingLoad(){this.postMessage("LOADED",{version:"1.0.0"}),this.log("info","Ping load dispatched")}async getInstanceId(e,{nonce:n,command:r}){if(!r||!n)throw new Error("Command/Nonce is undefined.");await this.postSdkProperty("instanceId",r,n)}async getChannelId(e,{nonce:n,command:r}){if(!r||!n)throw new Error("Command/Nonce is undefined.");await this.postSdkProperty("channelId",r,n)}async getGuildId(e,{nonce:n,command:r}){if(!r||!n)throw new Error("Command/Nonce is undefined.");await this.postSdkProperty("guildId",r,n)}async getUserId(e,{nonce:n,command:r}){if(!r||!n)throw new Error("Command/Nonce is undefined.");if(!this.discordSdk||!this.discordSdkManager)throw new Error("Discord SDK is not initialized.");const i=this.discordSdkManager.getUser();if(!i)throw new Error("You need to be authenticated to get the current user ID.");this.postMessage(r,{nonce:n,data:i.id}),this.log("info",`User ID fetched: ${i.id}`)}async getUser(e,{nonce:n,command:r}){if(!r||!n)throw new Error("Command/Nonce is undefined.");if(!this.discordSdk||!this.discordSdkManager)throw new Error("Discord SDK is not initialized.");const i=this.discordSdkManager.getUser();if(!i)throw new Error("You need to be authenticated to get the current user.");this.postMessage(r,{nonce:n,data:i}),this.log("info",`User details fetched: ${i.username}#${i.discriminator}`)}async getInstanceParticipants(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.getInstanceConnectedParticipants());this.postMessage(r,{nonce:n,data:s}),this.log("info",`Fetched instance participants: ${JSON.stringify(s)}`)}catch(s){this.logAndRethrowError("Failed to fetch instance participants",s)}}async hardwareAcceleration(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.encourageHardwareAcceleration());this.postMessage(r,{nonce:n,data:s}),this.log("info","Hardware acceleration encouraged successfully.",{data:s})}catch(s){this.logAndRethrowError("Failed to encourage hardware acceleration",s)}}async getChannel(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");if(!(e!=null&&e.channel_id))throw new Error("No channel ID provided for GET_CHANNEL.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.getChannel(e));this.postMessage(r,{nonce:n,data:s,args:e}),this.log("info",`Fetched channel: ${JSON.stringify(s)}`)}catch(s){this.logAndRethrowError("Failed to fetch channel",s)}}async getChannelPermissions(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");if(!(e!=null&&e.channel_id))throw new Error("No channel ID provided for GET_CHANNEL_PERMISSIONS.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.getChannelPermissions(e));if(!s)throw new Error("No permissions data received for the channel.");const u=this.helper.stringifyBigInt(s);this.postMessage(r,{nonce:n,data:u,args:e}),this.log("info",`Fetched channel permissions for channel ID '${e.channel_id}': ${u}`)}catch(s){this.logAndRethrowError("Failed to fetch channel permissions",s)}}async getEntitlements(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.getEntitlements());if(!s||!s.entitlements)throw new Error("No entitlement data received.");this.postMessage(r,{nonce:n,data:s.entitlements}),this.log("info","Fetched entitlement successfully",{data:s.entitlements})}catch(s){this.logAndRethrowError("Failed to fetch entitlement",s)}}async getPlatformBehaviors(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.getPlatformBehaviors());if(!s)throw new Error("No platform behaviors data received.");this.postMessage(r,{nonce:n,data:s}),this.log("info","Fetched platform behaviors successfully",{data:s})}catch(s){this.logAndRethrowError("Failed to fetch platform behaviorss",s)}}async getSkus(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.getSkus());if(!s||!Array.isArray(s.skus)||s.skus.length===0)throw new Error("No SKU data received or SKUs are empty.");this.postMessage(r,{nonce:n,data:s.skus}),this.log("info","Fetched SKUs successfully",{data:s.skus})}catch(s){this.logAndRethrowError("Failed to fetch SKUs",s)}}async imageUpload(e,{nonce:n,command:r}){var i;if(!r||!n)throw new Error("Command/Nonce is undefined.");this.validateSdkInitialized();try{const s=await((i=this.discordSdk)==null?void 0:i.commands.initiateImageUpload());if(!s)throw new Error("No image upload URL received.");this.postMessage(r,{nonce:n,data:{image_url:s,canceled:!1}}),this.log("info",`Image upload URL received: ${s}`)}catch(s){this.postMessage(r,{nonce:n,data:{image_url:"",canceled:!0}}),this.logAndRethrowError("Failed to initiate image upload",s)}}async externalLink(e,{command:n}){var r;if(!n)throw new Error("Command is undefined.");if(this.validateSdkInitialized(),!(e!=null&&e.url))throw new Error("No URL provided for EXTERNAL_LINK.");try{await((r=this.discordSdk)==null?void 0:r.commands.openExternalLink(e)),this.log("info",`External link opened: ${e.url}`)}catch(i){this.logAndRethrowError("Failed to open external link",i)}}async inviteDialog(e,{command:n}){var r;if(!n)throw new Error("Command is undefined.");this.validateSdkInitialized();try{await((r=this.discordSdk)==null?void 0:r.commands.openInviteDialog()),this.log("info","Invite dialog opened successfully.")}catch(i){this.logAndRethrowError("Failed to open invite dialog",i)}}async shareMomentDialog(e,{command:n}){var r;if(!n)throw new Error("Command is undefined.");if(this.validateSdkInitialized(),!(e!=null&&e.mediaUrl))throw new Error("No media URL provided for SHARE_MOMENT_DIALOG.");try{await((r=this.discordSdk)==null?void 0:r.commands.openShareMomentDialog(e)),this.log("info",`Shared moment dialog opened with URL: ${e.mediaUrl}`)}catch(i){this.logAndRethrowError("Failed to open Share Moment Dialog",i)}}async setOrientationLockState(e){var n;e.lock_state||this.logAndThrowError("No lock state provided for SET_ORIENTATION_LOCK_STATE");try{await((n=this.discordSdk)==null?void 0:n.commands.setOrientationLockState(e)),this.log("info","Orientation lock state set successfully.")}catch(r){this.logAndRethrowError("Failed to set orientation lock state",r)}}async startPurchase(){this.logAndThrowError("Purchases are not supported in this version.")}async getLocale(e,{command:n,nonce:r}){var i;(!n||!r)&&this.logAndThrowError("Command or nonce is undefined.");try{const s=await((i=this.discordSdk)==null?void 0:i.commands.userSettingsGetLocale());this.postMessage(n,{nonce:r,data:s}),this.log("info","Locale fetched successfully.")}catch(s){this.logAndRethrowError("Failed to fetch locale",s)}}async setConfig(e){var n;e.use_interactive_pip||this.logAndThrowError("No 'use interactive pip' provided for SET_CONFIG");try{const r=await((n=this.discordSdk)==null?void 0:n.commands.setConfig(e));this.log("info","Config set successfully",{data:r})}catch(r){this.logAndRethrowError("Failed to set config",r)}}handleEvent(e){this.postMessage("DISPATCH",{eventData:e})}postMessage(e,n){const r=this.helper.getNestedIFrame();if(r.error)throw new Error(`Failed to get iframe: ${r.error.message}`);const i=r.data;if(!(i!=null&&i.contentWindow))throw new Error("Iframe contentWindow is null or undefined.");i.contentWindow.postMessage({command:e,...n},"*")}async postSdkProperty(e,n,r){try{if(!this.discordSdk)throw new Error("Discord SDK is null");const i=String(e),s=this.discordSdk[i];if(s===void 0)throw new Error(`Property '${i}' does not exist on DiscordSDK.`);this.postMessage(n,{nonce:r,data:s}),this.log("info",`Fetched '${i}': ${s}`)}catch(i){this.logAndRethrowError(`Failed to fetch '${String(e)}'`,i)}}log(e,n,r){const i=Date.now();this.logs.set(i,{level:e,message:n,context:r})}logAndThrowError(e){throw this.log("error",e),new Error(e)}logAndRethrowError(e,n,r){const i=n instanceof Error?`${e}: ${n.message}`:`${e}: ${String(n)}`;throw this.log("error",i,{...r,error:n}),n instanceof Error?n:new Error(String(n))}}class tn{constructor(){this.helper=di,this.discordManager=null,this.messageHandler=null,this.ready=!1}static getInstance(){return tn.instance||(tn.instance=new tn),tn.instance}async initialize(e){if(this.ready){console.warn("Manager is already initialized.");return}this.discordManager=Kr.getInstance(this.helper),await this.discordManager.initialize(e),this.messageHandler=en.getInstance(this.discordManager,this.helper),this.ready=!0}getSDKManager(){if(!this.ready||!this.discordManager)throw new Error("Manager is not initialized. Call initialize() first.");return this.discordManager}getMessageHandler(){if(!this.ready||!this.messageHandler)throw new Error("MessageHandler is not initialized. Call initialize() first.");return this.messageHandler}SDK(e){return e?e(this.getSDKManager()):this.getSDKManager()}Helper(e){return e?e(this.helper):this.helper}Message(e){const n=this.getMessageHandler();return e?e(n):n}getAuthenticatedUser(){return this.SDK(e=>e.getUser())}sendCommand(e){const n={type:Qn.Command,payload:e};this.SDK(r=>r.sendMessage(n))}async handleMessage(e){await this.Message(n=>n.handleMessage(e))}getLogs(){return this.Message(e=>e.getLogs())}purgeLogs(){this.Message(e=>e.purgeLogs())}}Pe.Help=di,Pe.Manager=tn,Pe.getNestedIFrame=ci,Pe.safeParse=ai,Pe.safeStringify=oi,Pe.stringToUtf8=ui,Pe.stringifyBigInt=Vt,Pe.utf8ToString=li,Object.defineProperty(Pe,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=discord-sdk-manager.umd.js.map
