---
import DiscordServerCarousel from 'src/layout/svelte/carousel/DiscordServerCarousel.svelte';
---

<div class="md:col-span-3 bg-[#312d4b] p-4 rounded shadow-xl border-purple-500/20 hover:border-purple-500 border-1 overflow-visible min-h-[370px] relative">
	<!-- Static Astro fallback (above Svelte layer) -->
	<div
		id="astro-skeleton"
		class="absolute inset-0 flex gap-4 px-2 overflow-hidden z-20 transition-opacity duration-500 bg-[#312d4b]"
	>
	
		{Array.from({ length: 3 }).map(() => (
			<div class="card-tile animate-pulse h-[360px] w-[85%] sm:w-[48%] lg:w-[32%] rounded-md bg-[#2b2740] flex items-center justify-center">
					<svg
					class="animate-spin h-8 w-8 text-purple-400 opacity-70"
					xmlns="http://www.w3.org/2000/svg"
					fill="none"
					viewBox="0 0 24 24"
					role="status"
					aria-label="Loading">
					<circle
						class="opacity-25"
						cx="12"
						cy="12"
						r="10"
						stroke="currentColor"
						stroke-width="4"
					/>
					<path
						class="opacity-75"
						fill="currentColor"
						d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
					/>
				</svg>
			</div>
		))}
	</div>

	<DiscordServerCarousel client:only="svelte" />
</div>